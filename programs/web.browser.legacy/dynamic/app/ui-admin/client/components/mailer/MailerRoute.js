function module(e,n,r){var t,i,o,l,u,a,s,c;r.link("@babel/runtime/helpers/extends",{default:function(e){t=e}},0),r.export({default:function(){return d}}),r.link("react",{default:function(e){i=e}},0),r.link("toastr",{default:function(e){o=e}},1),r.link("../../../../../client/contexts/AuthorizationContext",{usePermission:function(e){l=e}},2),r.link("../../../../../client/contexts/ServerContext",{useMethod:function(e){u=e}},3),r.link("../../../../../client/contexts/TranslationContext",{useTranslation:function(e){a=e}},4),r.link("./Mailer",{Mailer:function(e){s=e}},5),r.link("../NotAuthorizedPage",{default:function(e){c=e}},6);var f=function(){var e=u("Mailer.sendMail"),n=a();return function(r){var t=r.fromEmail,i=r.subject,l=r.emailBody,u=r.dryRun,a=r.query;a.error?o.error(n("Query_is_not_valid_JSON")):t.error||t.length<1?o.error(n("error-invalid-from-address")):-1!==l.indexOf("[unsubscribe]")?(e(t.value,i,l,u,a.value),o.success(n("The_emails_are_being_sent"))):o.error(n("error-missing-unsubscribe-link"))}};function d(e){var n=l("access-mailer"),r=f();return n?i.createElement(s,t({sendMail:r},e)):i.createElement(c,null)}}

