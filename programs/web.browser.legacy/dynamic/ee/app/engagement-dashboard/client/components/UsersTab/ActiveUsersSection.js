function module(e,t,n){var a,i,r,o,l,c,s,u,m,d,f,y,h,g;function p(){var e=d(),t=m((function(){return{start:s().set({hour:0,minute:0,second:0,millisecond:0}).subtract(30,"days"),end:s().set({hour:0,minute:0,second:0,millisecond:0}).subtract(1)}}),[]),n=m((function(){return{start:t.start.clone().subtract(30,"days").toISOString(),end:t.end.toISOString()}}),[t]),p=h("GET","engagement-dashboard/users/active-users",n),v=m((function(){if(!p)return[];for(var e=function(e){return{x:s(t.start).add(e,"days").toDate(),y:0}},n=function(){return Array.from({length:s(t.end).diff(t.start,"days")+1},(function(t,n){return e(n)}))},a=function(e,t,n,a,i){for(var r=0;r<n;++r){var o=t+r;o>=a.length||(o>=0&&(a[o].y+=e),-1===o&&(i.y+=e))}},i=n(),r=e(-1),o=n(),l=e(-1),c=n(),u=e(-1),m=p.month,d=Array.isArray(m),f=0,m=d?m:m[Symbol.iterator]();;){var y;if(d){if(f>=m.length)break;y=m[f++]}else{if((f=m.next()).done)break;y=f.value}var h=y,g=h.users,v=h.day,E=h.month,k=h.year,x=s.utc([k,E-1,v,0,0,0,0]).diff(t.start,"days");a(g,x,1,i,r),a(g,x,7,o,l),a(g,x,30,c,u)}return[i[i.length-1].y,i[i.length-1].y-r.y,o[o.length-1].y,o[o.length-1].y-l.y,c[c.length-1].y,c[c.length-1].y-u.y,i,o,c]}),[t,p]),E=a(v,9),k=E[0],x=E[1],b=E[2],S=E[3],A=E[4],F=E[5],U=E[6],C=E[7],D=E[8];return u.createElement(g,{title:e("Active_users"),filter:null},u.createElement(f,{counters:[{count:p?k:u.createElement(l,{variant:"rect",width:"3ex",height:"1em"}),variation:p?x:0,description:u.createElement(u.Fragment,null,u.createElement(y,{color:"#D1EBFE"})," ",e("Daily_Active_Users"))},{count:p?b:u.createElement(l,{variant:"rect",width:"3ex",height:"1em"}),variation:p?S:0,description:u.createElement(u.Fragment,null,u.createElement(y,{color:"#76B7FC"})," ",e("Weekly_Active_Users"))},{count:p?A:u.createElement(l,{variant:"rect",width:"3ex",height:"1em"}),variation:p?F:0,description:u.createElement(u.Fragment,null,u.createElement(y,{color:"#1D74F5"})," ",e("Monthly_Active_Users"))}]}),u.createElement(o.Container,null,p?u.createElement(r,{style:{height:240}},u.createElement(o.Item,{align:"stretch",grow:1,shrink:0},u.createElement(r,{style:{position:"relative"}},u.createElement(r,{style:{position:"absolute",width:"100%",height:"100%"}},u.createElement(i,{data:[{id:"dau",data:U},{id:"wau",data:C},{id:"mau",data:D}],xScale:{type:"time",format:"native",precision:"day"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",stacked:!0},enableGridX:!1,enableGridY:!1,enablePoints:!1,useMesh:!0,enableArea:!0,areaOpacity:1,enableCrosshair:!0,crosshairType:"bottom",margin:{top:0,bottom:20,right:0,left:40},colors:["#D1EBFE","#76B7FC","#1D74F5"],axisLeft:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:3},axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:"every 3 days",format:function(e){return s(e).format(7===U.length?"dddd":"L")}},animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:"600",letterSpacing:"0.2px",lineHeight:"12px"}}},tooltip:{container:{backgroundColor:"#1F2329",boxShadow:"0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)",borderRadius:2}}},enableSlices:"x",sliceTooltip:function(t){var n=t.slice.points;return u.createElement(c,{elevation:"2"},n.map((function(t){var n=t.serieId,a=t.data.y;return u.createElement(r,{key:n,textStyle:"p2"},"dau"===n&&e("DAU_value",{value:a})||"wau"===n&&e("WAU_value",{value:a})||"mau"===n&&e("MAU_value",{value:a}))})))}}))))):u.createElement(l,{variant:"rect",height:240})))}n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},0),n.export({ActiveUsersSection:function(){return p}}),n.link("@nivo/line",{ResponsiveLine:function(e){i=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){r=e},Flex:function(e){o=e},Skeleton:function(e){l=e},Tile:function(e){c=e}},1),n.link("moment",{default:function(e){s=e}},2),n.link("react",{default:function(e){u=e},useMemo:function(e){m=e}},3),n.link("../../../../../../client/contexts/TranslationContext",{useTranslation:function(e){d=e}},4),n.link("../data/CounterSet",{CounterSet:function(e){f=e}},5),n.link("../data/LegendSymbol",{LegendSymbol:function(e){y=e}},6),n.link("../../hooks/useEndpointData",{useEndpointData:function(e){h=e}},7),n.link("../Section",{Section:function(e){g=e}},8)}

