function module(e,t,n){var r,i,a,o,l,s,u,c,m,f,d,g,h,y,p,E;function x(e){var t=e.displacement,n=e.onPreviousDateClick,r=e.onNextDateClick,c=y(),h=g((function(){return f().set({hour:0,minute:0,second:0,millisecond:0}).subtract(1).subtract(t,"days")}),[t]),p=g((function(){return{start:h.toISOString()}}),[h]),x=E("GET","engagement-dashboard/users/chat-busier/hourly-data",p),b=g((function(){if(!x)return[];for(var e=2,t=Array.from({length:12},(function(e,t){return{hour:String(2*t),users:0}})),n=x.hours,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a,l=o.hour,s=o.users,u=Math.floor(l/2);t[u]=t[u]||{hour:String(2*u),users:0},t[u].users+=s}return t}),[x]);return d.createElement(d.Fragment,null,d.createElement(s.Container,{alignItems:"center",justifyContent:"center"},d.createElement(a,null,d.createElement(o,{ghost:!0,square:!0,small:!0,onClick:n},d.createElement(l,{left:!0,size:"20",style:{verticalAlign:"middle"}})),d.createElement(s.Item,{basis:"25%"},d.createElement(u,{inline:"x8"},d.createElement(a,{is:"span",style:{textAlign:"center"}},h.format(t<7?"dddd":"L")))),d.createElement(o,{ghost:!0,square:!0,small:!0,disabled:0===t,onClick:r},d.createElement(l,{right:!0,size:"20",style:{verticalAlign:"middle"}})))),d.createElement(s.Container,null,x?d.createElement(a,{style:{height:196}},d.createElement(s.Item,{align:"stretch",grow:1,shrink:0},d.createElement(a,{style:{position:"relative"}},d.createElement(a,{style:{position:"absolute",width:"100%",height:"100%"}},d.createElement(i,{data:b,indexBy:"hour",keys:["users"],groupMode:"grouped",padding:.25,margin:{bottom:20},colors:["#1d74f5"],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:"every 2 hours",format:function(e){return f().set({hour:e,minute:0,second:0}).format("LT")}},axisLeft:null,animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:"600",letterSpacing:"0.2px",lineHeight:"12px"}}},tooltip:{container:{backgroundColor:"#1F2329",boxShadow:"0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)",borderRadius:2}}},tooltip:function(e){var t=e.value;return d.createElement(a,{textStyle:"p2",textColor:"alternative"},c("Value_users",{value:t}))}}))))):d.createElement(m,{variant:"rect",height:196})))}function b(e){var t=e.displacement,n=e.onPreviousDateClick,r=e.onNextDateClick,c=g((function(){return f.utc().subtract(t,"weeks")}),[t]),h=g((function(){var e;return c.clone().subtract(6,"days").format("L")+" - "+c.format("L")}),[c]),y=g((function(){return{start:c.toISOString()}}),[c]),p=E("GET","engagement-dashboard/users/chat-busier/weekly-data",y),x=g((function(){return p?p.month.map((function(e){var t=e.users,n=e.day,r=e.month,i=e.year;return{users:t,day:String(f.utc([i,r-1,n,0,0,0]).valueOf())}})).sort((function(e,t){var n,r;return e.day-t.day})):[]}),[p]);return d.createElement(d.Fragment,null,d.createElement(s.Container,{alignItems:"center",justifyContent:"center"},d.createElement(a,null,d.createElement(o,{ghost:!0,square:!0,small:!0,onClick:n},d.createElement(l,{left:!0,size:"20",style:{verticalAlign:"middle"}})),d.createElement(s.Item,{basis:"50%"},d.createElement(u,{inline:"x8"},d.createElement(a,{is:"span",style:{textAlign:"center"}},h))),d.createElement(o,{ghost:!0,square:!0,small:!0,disabled:0===t,onClick:r},d.createElement(l,{right:!0,size:"20",style:{verticalAlign:"middle"}})))),d.createElement(s.Container,null,p?d.createElement(a,{style:{height:196}},d.createElement(s.Item,{align:"stretch",grow:1,shrink:0},d.createElement(a,{style:{position:"relative"}},d.createElement(a,{style:{position:"absolute",width:"100%",height:"100%"}},d.createElement(i,{data:x,indexBy:"day",keys:["users"],groupMode:"grouped",padding:.25,margin:{bottom:20},colors:["#1d74f5"],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:"every 3 days",format:function(e){return f(parseInt(e,10)).format("L")}},axisLeft:null,animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:"600",letterSpacing:"0.2px",lineHeight:"12px"}}}}}))))):d.createElement(m,{variant:"rect",height:196})))}function k(){var e=y(),t=h("hours"),n=r(t,2),i=n[0],a=n[1],o=g((function(){return[["hours",e("Hours")],["days",e("Days")]]}),[e]),l=h(0),s=r(l,2),u=s[0],m=s[1],f=function(e){a(e),m(0)},E=function(){return m((function(e){return e+1}))},k=function(){return m((function(e){return e-1}))},v="hours"===i&&x||"days"===i&&b;return d.createElement(p,{title:e("When_is_the_chat_busier?"),filter:d.createElement(c,{options:o,value:i,onChange:f})},d.createElement(v,{displacement:u,onPreviousDateClick:E,onNextDateClick:k}))}n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},0),n.export({BusiestChatTimesSection:function(){return k}}),n.link("@nivo/bar",{ResponsiveBar:function(e){i=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){a=e},Button:function(e){o=e},Chevron:function(e){l=e},Flex:function(e){s=e},Margins:function(e){u=e},Select:function(e){c=e},Skeleton:function(e){m=e}},1),n.link("moment",{default:function(e){f=e}},2),n.link("react",{default:function(e){d=e},useMemo:function(e){g=e},useState:function(e){h=e}},3),n.link("../../../../../../client/contexts/TranslationContext",{useTranslation:function(e){y=e}},4),n.link("../Section",{Section:function(e){p=e}},5),n.link("../../hooks/useEndpointData",{useEndpointData:function(e){E=e}},6)}

