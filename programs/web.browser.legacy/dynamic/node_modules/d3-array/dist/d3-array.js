function module(t,n,r){var o,e;o=this,e=function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function r(t){return 1===t.length&&(t=o(t)),{left:function(n,r,o,e){for(null==o&&(o=0),null==e&&(e=n.length);o<e;){var f=o+e>>>1;t(n[f],r)<0?o=f+1:e=f}return o},right:function(n,r,o,e){for(null==o&&(o=0),null==e&&(e=n.length);o<e;){var f=o+e>>>1;t(n[f],r)>0?e=f:o=f+1}return o}}}function o(t){return function(r,o){return n(t(r),o)}}var e=r(n),f=e.right,u=e.left;function i(t,n){let r=0;if(void 0===n)for(let o of t)null!=o&&(o=+o)>=o&&++r;else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(e=+e)>=e&&++r}return r}function l(t){return 0|t.length}function a(t){return!(t>0)}function c(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function s(t){return n=>t(...n)}function h(...t){const n="function"==typeof t[t.length-1]&&s(t.pop()),r=(t=t.map(c)).map(l),o=t.length-1,e=new Array(o+1).fill(0),f=[];if(o<0||r.some(a))return f;for(;;){f.push(e.map((n,r)=>t[r][n]));let u=o;for(;++e[u]===r[u];){if(0===u)return n?f.map(n):f;e[u--]=0}}}function d(t,n){var r=0,o=0;return Float64Array.from(t,void 0===n?t=>r+=+t||0:e=>r+=+n(e,o++,t)||0)}function v(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function M(t,n){let r=0,o,e=0,f=0;if(void 0===n)for(let u of t)null!=u&&(u=+u)>=u&&(f+=(o=u-e)*(u-(e+=o/++r)));else{let u=-1;for(let i of t)null!=(i=n(i,++u,t))&&(i=+i)>=i&&(f+=(o=i-e)*(i-(e+=o/++r)))}if(r>1)return f/(r-1)}function g(t,n){const r=M(t,n);return r?Math.sqrt(r):r}function p(t,n){let r,o;if(void 0===n)for(const e of t)null!=e&&(void 0===r?e>=e&&(r=o=e):(r>e&&(r=e),o<e&&(o=e)));else{let e=-1;for(let f of t)null!=(f=n(f,++e,t))&&(void 0===r?f>=f&&(r=o=f):(r>f&&(r=f),o<f&&(o=f)))}return[r,o]}function y(t){return t}function m(t,...n){return b(t,y,y,n)}function A(t,...n){return b(t,Array.from,y,n)}function w(t,n,...r){return b(t,y,n,r)}function x(t,n,...r){return b(t,Array.from,n,r)}function b(t,n,r,o){return function t(e,f){if(f>=o.length)return r(e);const u=new Map,i=o[f++];let l=-1;for(const n of e){const t=i(n,++l,e),r=u.get(t);r?r.push(n):u.set(t,[n])}for(const[n,r]of u)u.set(n,t(r,f));return n(u)}(t,0)}var N,q=Array.prototype.slice;function I(t){return function(){return t}}function k(t,n,r){t=+t,n=+n,r=(e=arguments.length)<2?(n=t,t=0,1):e<3?1:+r;for(var o=-1,e=0|Math.max(0,Math.ceil((n-t)/r)),f=new Array(e);++o<e;)f[o]=t+o*r;return f}var F=Math.sqrt(50),L=Math.sqrt(10),S=Math.sqrt(2);function j(t,n,r){var o,e=-1,f,u,i;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((o=n<t)&&(f=t,t=n,n=f),0===(i=_(t,n,r))||!isFinite(i))return[];if(i>0)for(t=Math.ceil(t/i),n=Math.floor(n/i),u=new Array(f=Math.ceil(n-t+1));++e<f;)u[e]=(t+e)*i;else for(t=Math.floor(t*i),n=Math.ceil(n*i),u=new Array(f=Math.ceil(t-n+1));++e<f;)u[e]=(t-e)/i;return o&&u.reverse(),u}function _(t,n,r){var o=(n-t)/Math.max(0,r),e=Math.floor(Math.log(o)/Math.LN10),f=o/Math.pow(10,e);return e>=0?(f>=F?10:f>=L?5:f>=S?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(f>=F?10:f>=L?5:f>=S?2:1)}function z(t,n,r){var o=Math.abs(n-t)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),f=o/e;return f>=F?e*=10:f>=L?e*=5:f>=S&&(e*=2),n<t?-e:e}function D(t){return Math.ceil(Math.log(i(t))/Math.LN2)+1}function O(){var t=y,n=p,r=D;function o(o){Array.isArray(o)||(o=Array.from(o));var e,u=o.length,i,l=new Array(u);for(e=0;e<u;++e)l[e]=t(o[e],e,o);var a=n(l),c=a[0],s=a[1],h=r(l,c,s);Array.isArray(h)||(h=z(c,s,h),h=k(Math.ceil(c/h)*h,s,h));for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>s;)h.pop(),--d;var v=new Array(d+1),M;for(e=0;e<=d;++e)(M=v[e]=[]).x0=e>0?h[e-1]:c,M.x1=e<d?h[e]:s;for(e=0;e<u;++e)c<=(i=l[e])&&i<=s&&v[f(h,i,0,d)].push(o[e]);return v}return o.value=function(n){return arguments.length?(t="function"==typeof n?n:I(n),o):t},o.domain=function(t){return arguments.length?(n="function"==typeof t?t:I([t[0],t[1]]),o):n},o.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?I(q.call(t)):I(t),o):r},o}function P(t,n){let r;if(void 0===n)for(const o of t)null!=o&&(r<o||void 0===r&&o>=o)&&(r=o);else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(r<e||void 0===r&&e>=e)&&(r=e)}return r}function R(t,n){let r;if(void 0===n)for(const o of t)null!=o&&(r>o||void 0===r&&o>=o)&&(r=o);else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(r>e||void 0===r&&e>=e)&&(r=e)}return r}function B(t,r,o=0,e=t.length-1,f=n){for(;e>o;){if(e-o>600){const n=e-o+1,u=r-o+1,i=Math.log(n),l=.5*Math.exp(2*i/3),a=.5*Math.sqrt(i*l*(n-l)/n)*(u-n/2<0?-1:1),c=Math.max(o,Math.floor(r-u*l/n+a)),s=Math.min(e,Math.floor(r+(n-u)*l/n+a));B(t,r,c,s,f)}const n=t[r];let u=o,i=e;for(C(t,o,r),f(t[e],n)>0&&C(t,o,e);u<i;){for(C(t,u,i),++u,--i;f(t[u],n)<0;)++u;for(;f(t[i],n)>0;)--i}0===f(t[o],n)?C(t,o,i):C(t,++i,e),i<=r&&(o=i+1),r<=i&&(e=i-1)}return t}function C(t,n,r){const o=t[n];t[n]=t[r],t[r]=o}function E(t){return null===t?NaN:+t}function*G(t,n){if(void 0===n)for(let r of t)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let o of t)null!=(o=n(o,++r,t))&&(o=+o)>=o&&(yield o)}}function H(t,n,r){if(o=(t=Float64Array.from(G(t,r))).length){if((n=+n)<=0||o<2)return R(t);if(n>=1)return P(t);var o,e=(o-1)*n,f=Math.floor(e),u=P(B(t,f).subarray(0,f+1)),i;return u+(R(t.subarray(f+1))-u)*(e-f)}}function J(t,n,r=E){if(o=t.length){if((n=+n)<=0||o<2)return+r(t[0],0,t);if(n>=1)return+r(t[o-1],o-1,t);var o,e=(o-1)*n,f=Math.floor(e),u=+r(t[f],f,t),i;return u+(+r(t[f+1],f+1,t)-u)*(e-f)}}function K(t,n,r){return Math.ceil((r-n)/(2*(H(t,.75)-H(t,.25))*Math.pow(i(t),-1/3)))}function Q(t,n,r){return Math.ceil((r-n)/(3.5*g(t)*Math.pow(i(t),-1/3)))}function T(t,n){let r,o=-1,e=-1;if(void 0===n)for(const f of t)++e,null!=f&&(r<f||void 0===r&&f>=f)&&(r=f,o=e);else for(let f of t)null!=(f=n(f,++e,t))&&(r<f||void 0===r&&f>=f)&&(r=f,o=e);return o}function U(t,n){let r=0,o=0;if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(++r,o+=e);else{let e=-1;for(let f of t)null!=(f=n(f,++e,t))&&(f=+f)>=f&&(++r,o+=f)}if(r)return o/r}function V(t,n){return H(t,.5,n)}function*W(t){for(const n of t)yield*n}function X(t){return Array.from(W(t))}function Y(t,n){let r,o=-1,e=-1;if(void 0===n)for(const f of t)++e,null!=f&&(r>f||void 0===r&&f>=f)&&(r=f,o=e);else for(let f of t)null!=(f=n(f,++e,t))&&(r>f||void 0===r&&f>=f)&&(r=f,o=e);return o}function Z(t,n=$){const r=[];let o,e=!1;for(const f of t)e&&r.push(n(o,f)),o=f,e=!0;return r}function $(t,n){return[t,n]}function tt(t,n){return Array.from(n,n=>t[n])}function nt(t,r=n){let o,e=!1;if(1===r.length){let f;for(const u of t){const t=r(u);(e?n(t,f)<0:0===n(t,t))&&(o=u,f=t,e=!0)}}else for(const n of t)(e?r(n,o)<0:0===r(n,n))&&(o=n,e=!0);return o}function rt(t,r=n){if(1===r.length)return Y(t,r);let o,e=-1,f=-1;for(const n of t)++f,(e<0?0===r(n,n):r(n,o)<0)&&(o=n,e=f);return e}function ot(t,r=n){let o,e=!1;if(1===r.length){let f;for(const u of t){const t=r(u);(e?n(t,f)>0:0===n(t,t))&&(o=u,f=t,e=!0)}}else for(const n of t)(e?r(n,o)>0:0===r(n,n))&&(o=n,e=!0);return o}function et(t,r=n){if(1===r.length)return T(t,r);let o,e=-1,f=-1;for(const n of t)++f,(e<0?0===r(n,n):r(n,o)>0)&&(o=n,e=f);return e}function ft(t,n){const r=rt(t,n);return r<0?void 0:r}function ut(t,n=0,r=t.length){for(var o=r-(n=+n),e,f;o;)f=Math.random()*o--|0,e=t[o+n],t[o+n]=t[f+n],t[f+n]=e;return t}function it(t,n){let r=0;if(void 0===n)for(let o of t)(o=+o)&&(r+=o);else{let o=-1;for(let e of t)(e=+n(e,++o,t))&&(r+=e)}return r}function lt(t){if(!(f=t.length))return[];for(var n=-1,r=R(t,at),o=new Array(r);++n<r;)for(var e=-1,f,u=o[n]=new Array(f);++e<f;)u[e]=t[e][n];return o}function at(t){return t.length}function ct(){return lt(arguments)}t.ascending=n,t.bin=O,t.bisect=f,t.bisectLeft=u,t.bisectRight=f,t.bisector=r,t.count=i,t.cross=h,t.cumsum=d,t.descending=v,t.deviation=g,t.extent=p,t.greatest=ot,t.greatestIndex=et,t.group=m,t.groups=A,t.histogram=O,t.least=nt,t.leastIndex=rt,t.max=P,t.maxIndex=T,t.mean=U,t.median=V,t.merge=X,t.min=R,t.minIndex=Y,t.pairs=Z,t.permute=tt,t.quantile=H,t.quantileSorted=J,t.quickselect=B,t.range=k,t.rollup=w,t.rollups=x,t.scan=ft,t.shuffle=ut,t.sum=it,t.thresholdFreedmanDiaconis=K,t.thresholdScott=Q,t.thresholdSturges=D,t.tickIncrement=_,t.tickStep=z,t.ticks=j,t.transpose=lt,t.variance=M,t.zip=ct,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==r?e(n):"function"==typeof define&&define.amd?define(["exports"],e):e((o=o||self).d3=o.d3||{})}

