function module(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=e("react"),o=r(n),i=r(e("prop-types")),a=e("d3-shape"),l=r(e("recompose/setDisplayName")),u=r(e("recompose/compose")),s=r(e("recompose/pure")),c=r(e("recompose/defaultProps")),f=r(e("recompose/withPropsOnChange")),p=e("@nivo/core"),d=e("@nivo/colors"),b=e("@nivo/legends"),h=e("@nivo/tooltip"),y=r(e("lodash/get"));function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){A(e,t,r[t])}))}return e}function m(e,t){if(null==e)return{};var r=v(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e,t){if(null==e)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],t.indexOf(o)>=0||(r[o]=e[o]);return r}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function j(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){function t(){return R(this,t),j(this,x(t).apply(this,arguments))}return q(t,e),k(t,[{key:"render",value:function e(){var t=this.props,r=t.arcs,n=t.arcGenerator,o=t.startAngle,i=t.endAngle,a=t.width,l=t.height,u=t.centerX,s=t.centerY,c=t.radius,f=t.innerRadius,p=t.debug,e=t.children;return e({arcs:r,arcGenerator:n,startAngle:o,endAngle:i,width:a,height:l,centerX:u,centerY:s,radius:c,innerRadius:f,debug:p})}}]),t}(n.Component);A(S,"propTypes",{data:i.arrayOf(i.shape({id:i.string.isRequired,value:i.number.isRequired})).isRequired,width:i.number.isRequired,height:i.number.isRequired,fit:i.bool.isRequired,sortByValue:i.bool.isRequired,startAngle:i.number.isRequired,endAngle:i.number.isRequired,padAngle:i.number.isRequired,arcs:i.array.isRequired,arcGenerator:i.func.isRequired,centerX:i.number.isRequired,centerY:i.number.isRequired,radius:i.number.isRequired,innerRadius:i.number.isRequired,cornerRadius:i.number.isRequired,debug:i.shape({points:i.array.isRequired,box:i.shape({x:i.number.isRequired,y:i.number.isRequired,width:i.number.isRequired,height:i.number.isRequired}).isRequired,ratio:i.number.isRequired}),children:i.func.isRequired});var T={fit:!0,sortByValue:!1,innerRadius:0,startAngle:0,endAngle:360,padAngle:0,cornerRadius:0},C=function e(t){return u(c(T),f(["colors"],(function(e){var t=e.colors;return{getColor:d.getOrdinalColorScale(t,"id")}})),f(["width","height","innerRadius","startAngle","endAngle","fit","cornerRadius"],(function(e){var t=e.width,r=e.height,n=e.innerRadius,o=e.startAngle,i=e.endAngle,l=e.fit,u=e.cornerRadius,s=Math.min(t,r)/2,c=s*Math.min(n,1),f=t/2,d=r/2,b,h;if(!0===l){var y=p.computeArcBoundingBox(f,d,s,o-90,i-90),g=y.points,v=m(y,["points"]),O=Math.min(t/v.width,r/v.height),R={width:v.width*O,height:v.height*O};R.x=(t-R.width)/2,R.y=(r-R.height)/2,f=(f-v.x)/v.width*v.width*O+R.x,d=(d-v.y)/v.height*v.height*O+R.y,b={box:v,ratio:O,points:g},s*=O,c*=O}return{centerX:f,centerY:d,radius:s,innerRadius:c,arcGenerator:a.arc().outerRadius(s).innerRadius(c).cornerRadius(u),debug:b}})),f(["sortByValue","padAngle","startAngle","endAngle"],(function(e){var t=e.sortByValue,r=e.padAngle,n=e.startAngle,o=e.endAngle,i=a.pie().value((function(e){return e.value})).padAngle(p.degreesToRadians(r)).startAngle(p.degreesToRadians(n)).endAngle(p.degreesToRadians(o));return!0!==t&&i.sortValues(null),{pie:i}})),f(["pie","data"],(function(e){var t,r;return{arcs:(0,e.pie)(e.data).map((function(e){var t=Math.abs(e.endAngle-e.startAngle);return g({},e,{angle:t,angleDeg:p.radiansToDegrees(t)})}))}})),f(["arcs","getColor"],(function(e){var t=e.arcs,r=e.getColor;return{arcs:t.map((function(e){return g({},e,{color:r(e.data)})}))}})),s)(t)},E=l("PieLayout")(C(S)),_=i.shape({startAngle:i.number.isRequired,endAngle:i.number.isRequired,angle:i.number.isRequired,angleDeg:i.number.isRequired,color:i.string.isRequired,data:i.shape({id:i.oneOfType([i.string,i.number]).isRequired,value:i.number.isRequired}).isRequired}),D={data:i.arrayOf(i.shape({id:i.oneOfType([i.string,i.number]),value:i.number.isRequired})).isRequired,startAngle:i.number.isRequired,endAngle:i.number.isRequired,fit:i.bool.isRequired,padAngle:i.number.isRequired,sortByValue:i.bool.isRequired,innerRadius:i.number.isRequired,cornerRadius:i.number.isRequired,borderWidth:i.number.isRequired,borderColor:d.inheritedColorPropType.isRequired,enableRadialLabels:i.bool.isRequired,radialLabel:i.oneOfType([i.string,i.func]),radialLabelsSkipAngle:i.number,radialLabelsTextXOffset:i.number,radialLabelsTextColor:d.inheritedColorPropType.isRequired,radialLabelsLinkOffset:i.number,radialLabelsLinkDiagonalLength:i.number,radialLabelsLinkHorizontalLength:i.number,radialLabelsLinkStrokeWidth:i.number,radialLabelsLinkColor:d.inheritedColorPropType.isRequired,enableSlicesLabels:i.bool.isRequired,sliceLabel:i.oneOfType([i.string,i.func]),slicesLabelsSkipAngle:i.number,slicesLabelsTextColor:d.inheritedColorPropType.isRequired,colors:d.ordinalColorsPropType.isRequired,defs:i.arrayOf(i.shape({id:i.string.isRequired})).isRequired,fill:i.arrayOf(i.shape({id:i.string,match:i.oneOfType([i.oneOf(["*"]),i.object,i.func]).isRequired})).isRequired,isInteractive:i.bool,onClick:i.func.isRequired,onMouseEnter:i.func.isRequired,onMouseLeave:i.func.isRequired,lockTooltip:i.bool.isRequired,tooltipFormat:i.oneOfType([i.func,i.string]),tooltip:i.func,legends:i.arrayOf(i.shape(b.LegendPropShape)).isRequired},M={sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,startAngle:0,endAngle:p.radiansToDegrees(2*Math.PI),fit:!0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableRadialLabels:!0,radialLabel:"id",radialLabelsTextColor:{theme:"labels.text.fill"},radialLabelsLinkColor:{theme:"axis.ticks.line.stroke"},enableSlicesLabels:!0,sliceLabel:"value",slicesLabelsTextColor:{theme:"labels.text.fill"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,onClick:p.noop,onMouseEnter:p.noop,onMouseLeave:p.noop,lockTooltip:!0,legends:[]};function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){B(e,t,r[t])}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=function e(t){var r=t.data,n=t.path,i=t.color,a=t.fill,l=t.borderWidth,u=t.borderColor,s=t.showTooltip,c=t.hideTooltip,f=t.onClick,p=t.onMouseEnter,d=t.onMouseLeave,b=t.tooltipFormat,y=t.tooltip,g=t.theme,m=function e(t){return s(o.createElement(h.BasicTooltip,{id:r.label,value:r.value,enableChip:!0,color:i,theme:g,format:b,renderContent:"function"==typeof y?y.bind(null,W({color:i},r)):null}),t)},v=function e(t){p(r,t),m(t)},O=function e(t){d(r,t),c(t)};return o.createElement("path",{key:r.id,d:n,fill:a,strokeWidth:l,stroke:u,onMouseEnter:v,onMouseMove:m,onMouseLeave:O,onClick:f})};I.propTypes={data:i.shape({id:i.oneOfType([i.string,i.number]).isRequired,label:i.string.isRequired,value:i.number.isRequired}).isRequired,path:i.string.isRequired,color:i.string.isRequired,fill:i.string.isRequired,borderWidth:i.number.isRequired,borderColor:i.string.isRequired,tooltipFormat:i.oneOfType([i.func,i.string]),tooltip:i.func,showTooltip:i.func.isRequired,hideTooltip:i.func.isRequired,onClick:i.func,onMouseEnter:i.func,onMouseLeave:i.func,theme:i.shape({tooltip:i.shape({}).isRequired}).isRequired};var H,G=u(f(["data","onClick"],(function(e){var t=e.data,r=e.onClick;return{onClick:function e(n){return r(t,n)}}})),s)(I),X=function e(t,r){var n=r.getLabel,o=r.radius,i=r.skipAngle,a=r.linkOffset,l=r.linkDiagonalLength,u=r.linkHorizontalLength,s=r.textXOffset;return t.filter((function(e){return 0===i||e.angleDeg>i})).map((function(e){var t=p.absoluteAngleRadians(p.midAngle(e)-Math.PI/2),r=p.positionFromAngle(t,o+a),i=p.positionFromAngle(t,o+a+l),c,f,d;return p.absoluteAngleDegrees(p.radiansToDegrees(t))<90||p.absoluteAngleDegrees(p.radiansToDegrees(t))>=270?(c={x:i.x+u,y:i.y},f={x:i.x+u+s,y:i.y},d="left"):(c={x:i.x-u,y:i.y},f={x:i.x-u-s,y:i.y},d="right"),{arc:e,text:n(e.data),position:f,align:d,line:[r,i,c]}}))};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$(e,t,r[t])}))}return e}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t,r){return t&&Y(e.prototype,t),r&&Y(e,r),e}function K(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}function Z(e,t){return(Z=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=a.line().x((function(e){return e.x})).y((function(e){return e.y})),te=function(e){function t(){return V(this,t),K(this,J(t).apply(this,arguments))}return Q(t,e),U(t,[{key:"render",value:function e(){var t=this.props,r=t.arcs,i=t.label,a=t.radius,l=t.skipAngle,u=t.linkOffset,s=t.linkDiagonalLength,c=t.linkHorizontalLength,f=t.linkStrokeWidth,d=t.textXOffset,b=t.textColor,h=t.linkColor,y=t.theme,g;return X(r,{getLabel:i,radius:a,skipAngle:l,linkOffset:u,linkDiagonalLength:s,linkHorizontalLength:c,textXOffset:d}).map((function(e){return o.createElement(n.Fragment,{key:e.arc.data.id},o.createElement("path",{d:ee(e.line),fill:"none",style:{fill:"none",stroke:h(e.arc,y)},strokeWidth:f}),o.createElement("g",{transform:"translate(".concat(e.position.x,", ").concat(e.position.y,")")},o.createElement("text",{textAnchor:p.textPropsByEngine.svg.align[e.align],dominantBaseline:"central",style:z({},y.labels.text,{fill:b(e.arc.data,y)})},e.text)))}))}}]),t}(n.Component);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){pe(e,t,r[t])}))}return e}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t,r){return t&&ie(e.prototype,t),r&&ie(e,r),e}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}function fe(e,t){return(fe=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}$(te,"propTypes",{arcs:i.arrayOf(_).isRequired,label:i.func.isRequired,skipAngle:i.number.isRequired,radius:i.number.isRequired,linkOffset:i.number.isRequired,linkDiagonalLength:i.number.isRequired,linkHorizontalLength:i.number.isRequired,linkStrokeWidth:i.number.isRequired,textXOffset:i.number.isRequired,textColor:i.func.isRequired,linkColor:i.func.isRequired,theme:i.shape({axis:p.axisThemePropType.isRequired,labels:p.labelsThemePropType.isRequired}).isRequired}),$(te,"defaultProps",{skipAngle:0,linkOffset:0,linkDiagonalLength:16,linkHorizontalLength:24,linkStrokeWidth:1,textXOffset:6});var de={pointerEvents:"none"},be=function(e){function t(){return oe(this,t),le(this,se(t).apply(this,arguments))}return ce(t,e),ae(t,[{key:"render",value:function e(){var t=this.props,r=t.arcs,i=t.label,a=t.radius,l=t.skipAngle,u=t.innerRadius,s=t.textColor,c=t.theme,f=u+(a-u)/2;return o.createElement(n.Fragment,null,r.filter((function(e){return 0===l||e.angleDeg>l})).map((function(e){var t=p.midAngle(e)-Math.PI/2,r=p.positionFromAngle(t,f);return o.createElement("g",{key:e.data.id,transform:"translate(".concat(r.x,", ").concat(r.y,")"),style:de},o.createElement("text",{textAnchor:"middle",dominantBaseline:"central",style:ne({},c.labels.text,{fill:s(e.data,c)})},i(e.data)))})))}}]),t}(n.Component);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t,r){return t&&me(e.prototype,t),r&&me(e,r),e}function Oe(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}function je(e,t){return(je=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}pe(be,"propTypes",{arcs:i.arrayOf(_).isRequired,label:i.oneOfType([i.string,i.func]),skipAngle:i.number.isRequired,radius:i.number.isRequired,innerRadius:i.number.isRequired,textColor:i.func.isRequired,theme:i.shape({labels:p.labelsThemePropType.isRequired}).isRequired}),pe(be,"defaultProps",{skipAngle:0});var xe=function(e){function t(){return ge(this,t),Oe(this,we(t).apply(this,arguments))}return ke(t,e),ve(t,[{key:"render",value:function e(){var t=this.props,r=t.width,n=t.height,i=t.legends,a=t.data,l=t.theme;return i.map((function(e,t){return o.createElement(b.BoxLegendSvg,ye({key:t},e,{containerWidth:r,containerHeight:n,data:a,theme:l}))}))}}]),t}(n.Component);Le(xe,"propTypes",{width:i.number.isRequired,height:i.number.isRequired,arcs:i.arrayOf(_).isRequired,data:i.arrayOf(i.object).isRequired,legends:i.arrayOf(i.shape(b.LegendPropShape)).isRequired,theme:p.themePropType.isRequired});var qe=function e(t){return u(f(["arcs"],(function(e){var t;return{data:e.arcs.map((function(e){return{id:e.data.id,label:e.data.id,color:e.color,fill:e.fill}}))}})),s)(t)},Pe=l("PieLegends")(qe(xe));function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(e,t,r){return t&&Te(e.prototype,t),r&&Te(e,r),e}function Ee(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}function We(e,t){return(We=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function Be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ie=function(e){function t(){return Se(this,t),Ee(this,De(t).apply(this,arguments))}return Me(t,e),Ce(t,[{key:"render",value:function e(){var t=this.props,r=t.data,n=t.sortByValue,i=t.startAngle,a=t.endAngle,l=t.padAngle,u=t.fit,s=t.innerRadius,c=t.cornerRadius,f=t.margin,b=t.width,h=t.height,y=t.outerWidth,g=t.outerHeight,m=t.colors,v=t.colorBy,O=t.borderWidth,R=t.borderColor,w=t.enableRadialLabels,k=t.getRadialLabel,j=t.radialLabelsSkipAngle,L=t.radialLabelsLinkOffset,x=t.radialLabelsLinkDiagonalLength,q=t.radialLabelsLinkHorizontalLength,P=t.radialLabelsLinkStrokeWidth,A=t.radialLabelsTextXOffset,S=t.radialLabelsTextColor,T=t.radialLabelsLinkColor,C=t.enableSlicesLabels,_=t.getSliceLabel,D=t.slicesLabelsSkipAngle,M=t.slicesLabelsTextColor,W=t.theme,B=t.defs,I=t.fill,H=t.isInteractive,X=t.onClick,F=t.onMouseEnter,z=t.onMouseLeave,V=t.tooltipFormat,Y=t.tooltip,U=t.legends,K=d.getInheritedColorGenerator(R,W);return o.createElement(E,{width:b,height:h,data:r,sortByValue:n,startAngle:i,endAngle:a,fit:u,padAngle:l,innerRadius:s,cornerRadius:c,colors:m,colorBy:v},(function(e){var t=e.centerX,r=e.centerY,n=e.radius,i=e.innerRadius,a=e.arcs,l=e.arcGenerator,u=p.bindDefs(B,a,I,{dataKey:"data"});return o.createElement(p.Container,{isInteractive:H,theme:W,animate:!1},(function(e){var s=e.showTooltip,c=e.hideTooltip;return o.createElement(p.SvgWrapper,{width:y,height:g,margin:f,defs:u,theme:W},o.createElement("g",{transform:"translate(".concat(t,",").concat(r,")")},a.map((function(e){return o.createElement(G,{key:e.data.id,data:e.data,path:l(e),color:e.color,fill:e.fill?e.fill:e.color,borderWidth:O,borderColor:K(e),showTooltip:s,hideTooltip:c,tooltipFormat:V,tooltip:Y,onClick:X,onMouseEnter:F,onMouseLeave:z,theme:W})})),w&&o.createElement(te,{arcs:a,radius:n,label:k,skipAngle:j,linkOffset:L,linkDiagonalLength:x,linkHorizontalLength:q,linkStrokeWidth:P,textXOffset:A,textColor:d.getInheritedColorGenerator(S,W),linkColor:d.getInheritedColorGenerator(T,W),theme:W}),C&&o.createElement(be,{arcs:a,radius:n,innerRadius:i,theme:W,label:_,skipAngle:D,textColor:d.getInheritedColorGenerator(M,W)})),o.createElement(Pe,{width:b,height:h,arcs:a,legends:U,theme:W}))}))}))}}]),t}(n.Component);Be(Ie,"propTypes",D);var He=function e(t){return u(c(M),p.withTheme(),p.withDimensions(),f(["radialLabel"],(function(e){var t=e.radialLabel;return{getRadialLabel:p.getLabelGenerator(t)}})),f(["sliceLabel"],(function(e){var t=e.sliceLabel;return{getSliceLabel:p.getLabelGenerator(t)}})),s)(t)},Ge=l("Pie")(He(Ie));function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Fe=function e(t){return o.createElement(p.ResponsiveWrapper,null,(function(e){var r=e.width,n=e.height;return o.createElement(Ge,Xe({width:r,height:n},t))}))},ze=function(e){return u(c(M),p.withTheme(),p.withDimensions(),s)(e)};function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ye(e,t,r[t])}))}return e}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(e,t){return Je(e)||Ne(e,t)||Ke()}function Ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ne(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function Je(e){if(Array.isArray(e))return e}var Qe=function e(t,r,n){var o=n.arcGenerator,i=n.getLabel,a=n.skipAngle,l=n.getTextColor,u=n.theme;t.textAlign="center",t.textBaseline="middle",t.font="".concat(u.labels.text.fontSize,"px ").concat(u.labels.text.fontFamily),r.filter((function(e){return 0===a||e.angleDeg>a})).forEach((function(e){var r,n=Ue(o.centroid(e),2),a=n[0],s=n[1],c=i(e.data),f=l(e,u);t.save(),t.translate(a,s),t.fillStyle=f,t.fillText(c,0,0),t.restore()}))},Ze=function e(t,r,n){var o=n.radius,i=n.getLabel,a=n.skipAngle,l=n.linkOffset,u=n.linkDiagonalLength,s=n.linkHorizontalLength,c=n.linkStrokeWidth,f=n.textXOffset,d=n.getTextColor,b=n.getLinkColor,h=n.theme,y=X(r,{getLabel:i,radius:o,skipAngle:a,linkOffset:l,linkDiagonalLength:u,linkHorizontalLength:s,textXOffset:f});t.textBaseline="middle",t.font="".concat(h.labels.text.fontSize,"px ").concat(h.labels.text.fontFamily),y.forEach((function(e){var r=Ve({},e.arc.data,{color:e.arc.color});t.save(),t.translate(e.position.x,e.position.y),t.fillStyle=d(r,h),t.textAlign=p.textPropsByEngine.canvas.align[e.align],t.fillText(e.text,0,0),t.restore(),t.beginPath(),t.strokeStyle=b(r,h),t.lineWidth=c,e.line.forEach((function(e,r){0===r?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)})),c>0&&t.stroke()}))};function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){et(e,t,r[t])}))}return e}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tt=function e(t){var r=t.data,n=t.color,i=t.tooltipFormat,a=t.tooltip,l=t.theme;return o.createElement(h.BasicTooltip,{id:r.label,value:r.value,enableChip:!0,color:n,theme:l,format:i,renderContent:"function"==typeof a?a.bind(null,$e({color:n},r)):null})};tt.propTypes={data:i.shape({id:i.oneOfType([i.string,i.number]).isRequired,label:i.string.isRequired,value:i.number.isRequired}).isRequired,color:i.string.isRequired,tooltipFormat:i.oneOfType([i.func,i.string]),tooltip:i.func,theme:i.shape({tooltip:i.shape({}).isRequired}).isRequired};var rt=s(tt);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){gt(e,t,r[t])}))}return e}function it(e,t){return ut(e)||lt(e,t)||at()}function at(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function lt(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function ut(e){if(Array.isArray(e))return e}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e,t,r){return t&&ct(e.prototype,t),r&&ct(e,r),e}function pt(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?bt(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mt=function(e){function t(){var e,r;st(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return gt(bt(r=pt(this,(e=dt(t)).call.apply(e,[this].concat(i)))),"getArcFromMouse",(function(e){var t,n=it(p.getRelativeCursor(r.surface,e),2),o=n[0],i=n[1],a=r.props,l=a.centerX,u=a.centerY,s=a.margin,c=a.radius,f=a.innerRadius,d=a.arcs;return p.getHoveredArc(s.left+l,s.top+u,c,f,d,o,i)})),gt(bt(r),"handleMouseHover",(function(e,t){return function(n){if(!0===r.props.isInteractive){var i=r.getArcFromMouse(n);i?e(o.createElement(rt,{data:i.data,color:i.color,theme:r.props.theme}),n):t()}}})),gt(bt(r),"handleMouseLeave",(function(e){return function(){!0===r.props.isInteractive&&e()}})),gt(bt(r),"handleClick",(function(e){var t=r.getArcFromMouse(e);t&&r.props.onClick(t.data,e)})),r}return ht(t,e),ft(t,[{key:"componentDidMount",value:function e(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"shouldComponentUpdate",value:function e(t){return this.props.outerWidth!==t.outerWidth||this.props.outerHeight!==t.outerHeight||this.props.isInteractive!==t.isInteractive||this.props.theme!==t.theme||(this.draw(t),!1)}},{key:"componentDidUpdate",value:function e(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"draw",value:function e(t){var r=this,n=t.arcs,o=t.arcGenerator,i=t.width,a=t.height,l=t.centerX,u=t.centerY,s=t.radius,c=t.outerWidth,f=t.outerHeight,h=t.pixelRatio,y=t.margin,g=t.borderWidth,m=t.borderColor,v=t.enableSlicesLabels,O=t.enableRadialLabels,R=t.legends,w=t.theme;this.surface.width=c*h,this.surface.height=f*h,this.ctx.scale(h,h),this.ctx.fillStyle=w.background,this.ctx.fillRect(0,0,c,f),this.ctx.save(),this.ctx.translate(y.left,y.top),o.context(this.ctx),this.ctx.save(),this.ctx.translate(l,u);var k=d.getInheritedColorGenerator(m,w);if(n.forEach((function(e){r.ctx.beginPath(),r.ctx.fillStyle=e.color,r.ctx.strokeStyle=k(ot({},e.data,{color:e.color})),r.ctx.lineWidth=g,o(e),r.ctx.fill(),g>0&&r.ctx.stroke()})),!0===v){var j=t.sliceLabel,L=t.slicesLabelsSkipAngle,x=t.slicesLabelsTextColor;Qe(this.ctx,n,{arcGenerator:o,skipAngle:L,getLabel:p.getLabelGenerator(j),getTextColor:d.getInheritedColorGenerator(x,w),theme:w})}if(!0===O){var q=t.radialLabel,P=t.radialLabelsSkipAngle,A=t.radialLabelsLinkOffset,S=t.radialLabelsLinkStrokeWidth,T=t.radialLabelsLinkDiagonalLength,C=t.radialLabelsLinkHorizontalLength,E=t.radialLabelsTextXOffset,_=t.radialLabelsTextColor,D=t.radialLabelsLinkColor;Ze(this.ctx,n,{radius:s,getLabel:p.getLabelGenerator(q),skipAngle:P,linkOffset:A,linkDiagonalLength:T,linkHorizontalLength:C,linkStrokeWidth:S,textXOffset:E,getTextColor:d.getInheritedColorGenerator(_,w),getLinkColor:d.getInheritedColorGenerator(D,w),theme:w})}this.ctx.restore(),R.forEach((function(e){b.renderLegendToCanvas(r.ctx,ot({},e,{data:n.map((function(e){return{id:e.data.id,label:e.data.id,color:e.color}})),containerWidth:i,containerHeight:a,theme:w}))}))}},{key:"render",value:function e(){var t=this,r=this.props,n=r.outerWidth,i=r.outerHeight,a=r.pixelRatio,l=r.isInteractive,u=r.theme;return o.createElement(p.Container,{isInteractive:l,theme:u,animate:!1},(function(e){var r=e.showTooltip,l=e.hideTooltip;return o.createElement("canvas",{ref:function e(r){t.surface=r},width:n*a,height:i*a,style:{width:n,height:i},onMouseEnter:t.handleMouseHover(r,l),onMouseMove:t.handleMouseHover(r,l),onMouseLeave:t.handleMouseLeave(l),onClick:t.handleClick})}))}}]),t}(n.Component);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rt(e,t){if(null==e)return{};var r=wt(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wt(e,t){if(null==e)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],t.indexOf(o)>=0||(r[o]=e[o]);return r}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lt(e,t,r){return t&&jt(e.prototype,t),r&&jt(e,r),e}function xt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?qt(e):t}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function At(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}function St(e,t){return(St=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function Tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}gt(mt,"propTypes",{arcs:i.arrayOf(_).isRequired,arcGenerator:i.func.isRequired,pixelRatio:i.number.isRequired,outerWidth:i.number.isRequired,outerHeight:i.number.isRequired,centerX:i.number.isRequired,centerY:i.number.isRequired,margin:i.object.isRequired,radius:i.number.isRequired,innerRadius:i.number.isRequired,isInteractive:i.bool.isRequired,onClick:i.func.isRequired,theme:i.object.isRequired});var Ct=function(e){function t(){return kt(this,t),xt(this,Pt(t).apply(this,arguments))}return At(t,e),Lt(t,[{key:"render",value:function e(){var t=this.props,r=t.data,n=t.sortByValue,i=t.startAngle,a=t.endAngle,l=t.fit,u=t.padAngle,s=t.innerRadius,c=t.cornerRadius,f=t.width,p=t.height,d=t.colors,b=t.colorBy,h=Rt(t,["data","sortByValue","startAngle","endAngle","fit","padAngle","innerRadius","cornerRadius","width","height","colors","colorBy"]);return o.createElement(E,{width:f,height:p,data:r,sortByValue:n,startAngle:i,endAngle:a,fit:l,padAngle:u,innerRadius:s,cornerRadius:c,colors:d,colorBy:b},(function(e){return o.createElement(mt,Ot({},h,e))}))}}]),t}(n.Component);Tt(Ct,"propTypes",D);var Et=l("PieCanvas")(ze(Ct));function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Dt=function e(t){return o.createElement(p.ResponsiveWrapper,null,(function(e){var r=e.width,n=e.height;return o.createElement(Et,_t({width:r,height:n},t))}))};function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Wt(e,t,r[t])}))}return e}function Wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bt=function e(t){var r=t.data,o=t.radius,i=t.value,l=void 0===i?function(e){return e}:i,u=t.startAngle,s=void 0===u?0:u,c=t.endAngle,f=void 0===c?360:c,d=t.innerRadius,b=void 0===d?0:d,h=t.cornerRadius,g=void 0===h?0:h,m=t.sortByValue,v=void 0!==m&&m,O=t.padAngle,R=void 0===O?0:O,w=n.useMemo((function(){return a.arc().outerRadius(o).innerRadius(b).cornerRadius(g)}),[o,b,g]),k=n.useMemo((function(){return"function"==typeof l?l:function(e){return y(e,l)}}),[l]),j=n.useMemo((function(){var e=a.pie().value(k).padAngle(p.degreesToRadians(R)).startAngle(p.degreesToRadians(s)).endAngle(p.degreesToRadians(f));return!0!==v&&e.sortValues(null),e}),[k,R,s,f,v]),L;return{arcs:n.useMemo((function(){return j(r).map((function(e){var t=e.endAngle-.5*(e.endAngle-e.startAngle);return Mt({},e,{startAngleDeg:p.radiansToDegrees(t.startAngle),endAngleDeg:p.radiansToDegrees(e.endAngle),angle:t,angleDeg:p.radiansToDegrees(t)})}))}),[r,j]),arcGenerator:w}};t.Pie=Ge,t.PieCanvas=Et,t.PieDefaultProps=M,t.PieLayout=E,t.PiePropTypes=D,t.ResponsivePie=Fe,t.ResponsivePieCanvas=Dt,t.arcPropType=_,t.usePie=Bt}

