function module(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=e("react"),r=n(i),a=n(e("prop-types")),o=e("react-motion"),c=e("@nivo/core"),s=n(e("lodash/isNumber")),u=e("d3-time"),l=e("d3-time-format"),f=e("d3-format");function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){d(e,t,n[t])}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function e(t){var n=t.bandwidth();if(0===n)return t;var i=n/2;return t.round()&&(i=Math.round(i)),function(e){return t(e)+i}},x={millisecond:[u.timeMillisecond,u.utcMillisecond],second:[u.timeSecond,u.utcSecond],minute:[u.timeMinute,u.utcMinute],hour:[u.timeHour,u.utcHour],day:[u.timeDay,u.utcDay],week:[u.timeWeek,u.utcWeek],sunday:[u.timeSunday,u.utcSunday],monday:[u.timeMonday,u.utcMonday],tuesday:[u.timeTuesday,u.utcTuesday],wednesday:[u.timeWednesday,u.utcWednesday],thursday:[u.timeThursday,u.utcThursday],friday:[u.timeFriday,u.utcFriday],saturday:[u.timeSaturday,u.utcSaturday],month:[u.timeMonth,u.utcMonth],year:[u.timeYear,u.utcYear]},p=Object.keys(x),g=new RegExp("^every\\s*(\\d+)?\\s*(".concat(p.join("|"),")s?$"),"i"),b=function e(t,n){if(Array.isArray(n))return n;if(t.ticks){if(void 0===n)return t.ticks();if(s(n))return t.ticks(n);if("string"==typeof n){var i=n.match(g);if(i){var r=x[i[2]][t.useUTC?1:0];return void 0===i[1]?t.ticks(r):t.ticks(r.every(Number(i[1])))}throw new Error("Invalid tickValues: ".concat(n))}}return t.domain()},v=function e(t){var n=t.axis,i=t.scale,r=t.ticksPosition,a=t.tickValues,o=t.tickSize,s=t.tickPadding,u=t.tickRotation,l=t.engine,f=void 0===l?"svg":l,d=b(i,a),x=c.textPropsByEngine[f],p=i.bandwidth?m(i):i,g={lineX:0,lineY:0},v={textX:0,textY:0},h,k=x.align.center,O=x.baseline.center,P;return"x"===n?(h=function e(t){return{x:p(t),y:0}},g.lineY=o*("after"===r?1:-1),v.textY=(o+s)*("after"===r?1:-1),O="after"===r?x.baseline.top:x.baseline.bottom,0===u?k=x.align.center:"after"===r&&u<0||"before"===r&&u>0?(k=x.align.right,O=x.baseline.center):("after"===r&&u>0||"before"===r&&u<0)&&(k=x.align.left,O=x.baseline.center)):(h=function e(t){return{x:0,y:p(t)}},g.lineX=o*("after"===r?1:-1),v.textX=(o+s)*("after"===r?1:-1),k="after"===r?x.align.left:x.align.right),{ticks:d.map((function(e){return y({key:e,value:e},h(e),g,v)})),textAlign:k,textBaseline:O}},h=function e(t,n){if(!t||"function"==typeof t)return t;if("time"===n.type){var i=l.timeFormat(t);return function(e){return i(new Date(e))}}return f.format(t)},k=function e(t){var n=t.width,i=t.height,r=t.scale,a=t.axis,o=t.values,c=Array.isArray(o)?o:void 0,u=s(o)?o:void 0,l=c||b(r,u),f=r.bandwidth?m(r):r,y;return"x"===a?y=l.map((function(e){return{key:"".concat(e),x1:f(e),x2:f(e),y1:0,y2:i}})):"y"===a&&(y=l.map((function(e){return{key:"".concat(e),x1:0,x2:n,y1:f(e),y2:f(e)}}))),y},O={ticksPosition:a.oneOf(["before","after"]),tickValues:a.oneOfType([a.number,a.arrayOf(a.oneOfType([a.number,a.string,a.instanceOf(Date)])),a.string]),tickSize:a.number,tickPadding:a.number,tickRotation:a.number,format:a.oneOfType([a.func,a.string]),renderTick:a.func,legend:a.node,legendPosition:a.oneOf(["start","middle","end"]),legendOffset:a.number},P=a.shape(O);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var T=function e(t){var n=t.value,i=t.x,a=t.y,o=t.opacity,s=t.rotate,u=t.format,l=t.lineX,f=t.lineY,y=t.onClick,d=t.textX,m=t.textY,x=t.textBaseline,p=t.textAnchor,g=c.useTheme(),b=n;void 0!==u&&(b=u(b));var v={opacity:o};return y&&(v.cursor="pointer"),r.createElement("g",R({transform:"translate(".concat(i,",").concat(a,")")},y?{onClick:function e(t){return y(t,b)}}:{},{style:v}),r.createElement("line",{x1:0,x2:l,y1:0,y2:f,style:g.axis.ticks.line}),r.createElement("text",{dominantBaseline:x,textAnchor:p,transform:"translate(".concat(d,",").concat(m,") rotate(").concat(s,")"),style:g.axis.ticks.text},b))};T.propTypes={value:a.oneOfType([a.number,a.string,a.instanceOf(Date)]).isRequired,format:a.func,x:a.number.isRequired,y:a.number.isRequired,lineX:a.number.isRequired,lineY:a.number.isRequired,textX:a.number.isRequired,textY:a.number.isRequired,textBaseline:a.string.isRequired,textAnchor:a.string.isRequired,opacity:a.number.isRequired,rotate:a.number.isRequired,onClick:a.func},T.defaultProps={opacity:1,rotate:0};var w=i.memo(T);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){S(e,t,n[t])}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function e(){return{rotate:0,opacity:0,x:0,y:0}},M=function e(t){return function(e){var n=e.style,i=n.x,r=n.y,a;return{rotate:n.rotate,opacity:o.spring(0,t),x:o.spring(i.val,t),y:o.spring(r.val,t)}}},A=function e(t){return r.createElement(w,t)},C=function e(t){var n=t.axis,a=t.scale,s=t.x,u=t.y,l=t.length,f=t.ticksPosition,y=t.tickValues,d=t.tickSize,m=t.tickPadding,x=t.tickRotation,p=t.format,g=t.renderTick,b=t.legend,k=t.legendPosition,O=t.legendOffset,P=t.onClick,R=c.useTheme(),T=c.useMotionConfig(),w=T.animate,S=T.springConfig,A=i.useMemo((function(){return h(p,a)}),[p,a]),C=v({axis:n,scale:a,ticksPosition:f,tickValues:y,tickSize:d,tickPadding:m,tickRotation:x}),V=C.ticks,B=C.textAlign,W=C.textBaseline,Y=null;if(void 0!==b){var z=0,D=0,X=0,F;"y"===n?(X=-90,z=O,"start"===k?(F="start",D=l):"middle"===k?(F="middle",D=l/2):"end"===k&&(F="end")):(D=O,"start"===k?F="start":"middle"===k?(F="middle",z=l/2):"end"===k&&(F="end",z=l)),Y=r.createElement("text",{transform:"translate(".concat(z,", ").concat(D,") rotate(").concat(X,")"),textAnchor:F,style:E({dominantBaseline:"central"},R.axis.legend.text)},b)}return!0!==w?r.createElement("g",{transform:"translate(".concat(s,",").concat(u,")")},V.map((function(e,t){return r.createElement(g,E({tickIndex:t,format:A,rotate:x,textBaseline:W,textAnchor:B},e,P?{onClick:P}:{}))})),r.createElement("line",{style:R.axis.domain.line,x1:0,x2:"x"===n?l:0,y1:0,y2:"x"===n?0:l}),Y):r.createElement(o.Motion,{style:{x:o.spring(s,S),y:o.spring(u,S)}},(function(e){return r.createElement("g",{transform:"translate(".concat(e.x,",").concat(e.y,")")},r.createElement(o.TransitionMotion,{willEnter:j,willLeave:M(S),styles:V.map((function(e){return{key:"".concat(e.key),data:e,style:{opacity:o.spring(1,S),x:o.spring(e.x,S),y:o.spring(e.y,S),rotate:o.spring(x,S)}}}))},(function(e){return r.createElement(i.Fragment,null,e.map((function(e,t){var n=e.style,i=e.data;return r.createElement(g,E({tickIndex:t,format:A,textBaseline:W,textAnchor:B},i,n,P?{onClick:P}:{}))})))})),r.createElement(o.Motion,{style:{x2:o.spring("x"===n?l:0,S),y2:o.spring("x"===n?0:l,S)}},(function(e){return r.createElement("line",q({style:R.axis.domain.line,x1:0,y1:0},e))})),Y)}))};C.propTypes={axis:a.oneOf(["x","y"]).isRequired,scale:a.func.isRequired,x:a.number.isRequired,y:a.number.isRequired,length:a.number.isRequired,ticksPosition:a.oneOf(["before","after"]).isRequired,tickValues:O.tickValues,tickSize:a.number.isRequired,tickPadding:a.number.isRequired,tickRotation:a.number.isRequired,format:a.oneOfType([a.func,a.string]),renderTick:a.func.isRequired,legend:a.node,legendPosition:a.oneOf(["start","middle","end"]).isRequired,legendOffset:a.number.isRequired,onClick:a.func},C.defaultProps={x:0,y:0,tickSize:5,tickPadding:5,tickRotation:0,renderTick:A,legendPosition:"end",legendOffset:0};var V=i.memo(C);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var W=["top","right","bottom","left"],Y=function e(t){var n=t.xScale,i=t.yScale,a=t.width,o=t.height,c,s,u,l,f={top:t.top,right:t.right,bottom:t.bottom,left:t.left};return W.map((function(e){var t=f[e];if(!t)return null;var c="top"===e||"bottom"===e,s="top"===e||"left"===e?"before":"after";return r.createElement(V,B({key:e},t,{axis:c?"x":"y",x:"right"===e?a:0,y:"bottom"===e?o:0,scale:c?n:i,length:c?a:o,ticksPosition:s}))}))};Y.propTypes={xScale:a.func,yScale:a.func,width:a.number.isRequired,height:a.number.isRequired,top:P,right:P,bottom:P,left:P};var z=i.memo(Y),D=function e(t){return r.createElement("line",t)};D.propTypes={x1:a.number.isRequired,x2:a.number.isRequired,y1:a.number.isRequired,y2:a.number.isRequired},D.defaultProps={x1:0,x2:0,y1:0,y2:0};var X=i.memo(D);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var I=function e(t){var n=t.type,a=t.lines,s=c.useTheme(),u=c.useMotionConfig(),l=u.animate,f=u.springConfig,y=i.useMemo((function(){return function(e){var t=e.style;return{opacity:0,x1:"x"===n?0:t.x1.val,x2:"x"===n?0:t.x2.val,y1:"y"===n?0:t.y1.val,y2:"y"===n?0:t.y2.val}}}),[n]),d=i.useMemo((function(){return function(e){var t=e.style;return{opacity:o.spring(0,f),x1:o.spring(t.x1.val,f),x2:o.spring(t.x2.val,f),y1:o.spring(t.y1.val,f),y2:o.spring(t.y2.val,f)}}}),[f]);return l?r.createElement(o.TransitionMotion,{willEnter:y,willLeave:d,styles:a.map((function(e){return{key:e.key,style:{opacity:o.spring(1,f),x1:o.spring(e.x1||0,f),x2:o.spring(e.x2||0,f),y1:o.spring(e.y1||0,f),y2:o.spring(e.y2||0,f)}}}))},(function(e){return r.createElement("g",null,e.map((function(e){var t=e.key,n=e.style;return r.createElement(X,F({key:t},s.grid.line,n))})))})):r.createElement("g",null,a.map((function(e){return r.createElement(X,F({key:e.key},e,s.grid.line))})))};I.propTypes={type:a.oneOf(["x","y"]).isRequired,lines:a.arrayOf(a.shape({key:a.string.isRequired,x1:a.number,x2:a.number,y1:a.number,y2:a.number})).isRequired};var L=i.memo(I),G=function e(t){var n=t.width,a=t.height,o=t.xScale,c=t.yScale,s=t.xValues,u=t.yValues,l=i.useMemo((function(){return!!o&&k({width:n,height:a,scale:o,axis:"x",values:s})}),[o,s]),f=!!c&&k({width:n,height:a,scale:c,axis:"y",values:u});return r.createElement(r.Fragment,null,l&&r.createElement(L,{type:"x",lines:l}),f&&r.createElement(L,{type:"y",lines:f}))};G.propTypes={width:a.number.isRequired,height:a.number.isRequired,xScale:a.func,yScale:a.func,xValues:a.oneOfType([a.number,a.arrayOf(a.oneOfType([a.number,a.string,a.instanceOf(Date)]))]),yValues:a.oneOfType([a.number,a.arrayOf(a.oneOfType([a.number,a.string,a.instanceOf(Date)]))])};var H=i.memo(G),N=function e(t){return t*Math.PI/180};function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){U(e,t,n[t])}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function e(t,n){var i=n.axis,r=n.scale,a=n.x,o=void 0===a?0:a,c=n.y,s=void 0===c?0:c,u=n.length,l=n.ticksPosition,f=n.tickValues,y=n.tickSize,d=void 0===y?5:y,m=n.tickPadding,x=void 0===m?5:m,p=n.tickRotation,g=void 0===p?0:p,b=n.format,h=n.legend,k=n.legendPosition,O=void 0===k?"end":k,P=n.legendOffset,R=void 0===P?0:P,T=n.theme,w=v({axis:i,scale:r,ticksPosition:l,tickValues:f,tickSize:d,tickPadding:x,tickRotation:g,engine:"canvas"}),q=w.ticks,E=w.textAlign,S=w.textBaseline;if(t.save(),t.translate(o,s),t.textAlign=E,t.textBaseline=S,t.font="".concat(T.axis.ticks.text.fontSize,"px ").concat(T.axis.ticks.text.fontFamily),T.axis.domain.line.strokeWidth>0&&(t.lineWidth=T.axis.domain.line.strokeWidth,t.lineCap="square",t.strokeStyle=T.axis.domain.line.stroke,t.beginPath(),t.moveTo(0,0),t.lineTo("x"===i?u:0,"x"===i?0:u),t.stroke()),q.forEach((function(e){T.axis.ticks.line.strokeWidth>0&&(t.lineWidth=T.axis.ticks.line.strokeWidth,t.lineCap="square",t.strokeStyle=T.axis.ticks.line.stroke,t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.x+e.lineX,e.y+e.lineY),t.stroke());var n=void 0!==b?b(e.value):e.value;t.save(),t.translate(e.x+e.textX,e.y+e.textY),t.rotate(N(g)),t.fillStyle=T.axis.ticks.text.fill,t.fillText(n,0,0),t.restore()})),void 0!==h){var j=0,M=0,A=0,C;"y"===i?(A=-90,j=R,"start"===O?(C="start",M=u):"middle"===O?(C="center",M=u/2):"end"===O&&(C="end")):(M=R,"start"===O?C="start":"middle"===O?(C="center",j=u/2):"end"===O&&(C="end",j=u)),t.translate(j,M),t.rotate(N(A)),t.font="".concat(T.axis.legend.text.fontWeight?"".concat(T.axis.legend.text.fontWeight," "):"").concat(T.axis.legend.text.fontSize,"px ").concat(T.axis.legend.text.fontFamily),t.fillStyle=T.axis.legend.text.fill,t.textAlign=C,t.textBaseline="middle",t.fillText(h,0,0)}t.restore()},J=["top","right","bottom","left"],K=function e(t,n){var i=n.xScale,r=n.yScale,a=n.width,o=n.height,c=n.top,s=n.right,u=n.bottom,l=n.left,f=n.theme,y={top:c,right:s,bottom:u,left:l};J.forEach((function(e){var n=y[e];if(!n)return null;var c="top"===e||"bottom"===e,s="top"===e||"left"===e?"before":"after",u=c?i:r,l=h(n.format,u);$(t,_({},n,{axis:c?"x":"y",x:"right"===e?a:0,y:"bottom"===e?o:0,scale:u,format:l,length:c?a:o,ticksPosition:s,theme:f}))}))},Q=function e(t,n){var i=n.width,r=n.height,a=n.scale,o=n.axis,c=n.values,s;k({width:i,height:r,scale:a,axis:o,values:c}).forEach((function(e){t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()}))};t.Axes=z,t.Axis=V,t.Grid=H,t.axisPropType=P,t.axisPropTypes=O,t.renderAxesToCanvas=K,t.renderAxisToCanvas=$,t.renderGridLinesToCanvas=Q}

