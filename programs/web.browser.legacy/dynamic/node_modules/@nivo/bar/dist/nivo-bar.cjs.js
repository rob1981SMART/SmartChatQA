function module(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=e("react"),o=r(n),i=e("react-motion"),a=e("@nivo/core"),l=e("@nivo/axes"),u=e("@nivo/legends"),c=r(e("lodash/min")),s=r(e("lodash/max")),d=r(e("lodash/range")),f=e("d3-scale"),h=r(e("lodash/flattenDepth")),p=e("d3-shape"),g=r(e("lodash/uniqBy")),b=r(e("recompose/setDisplayName")),y=r(e("recompose/compose")),m=r(e("recompose/defaultProps")),v=r(e("recompose/withPropsOnChange")),x=r(e("recompose/pure")),w=e("@nivo/colors"),k=r(e("prop-types")),O=e("@nivo/tooltip"),R=e("@nivo/annotations"),C=function e(t,r,n,o){return f.scaleBand().rangeRound(n).domain(t.map(r)).padding(o)};function T(e){return L(e)||q(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function q(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function L(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var P=function e(t,r,n,o,i){var a=t.reduce((function(e,t){return[].concat(T(e),T(r.map((function(e){return t[e]}))))}),[]),l=o;"auto"===l&&(l=s(a));var u=n;return"auto"===u&&(u=c(a))>0&&(u=0),f.scaleLinear().rangeRound(i).domain([u,l])},E=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,s=t.getColor,f=t.padding,h=void 0===f?0:f,p=t.innerPadding,g=void 0===p?0:p,b=C(r,n,[0,u],h),y,m=P(r,o,i,a,l?[0,c]:[c,0]),v=(b.bandwidth()-g*(o.length-1))/o.length,x=m(0),w=function e(t){return t>0?m(t):x},k=function e(t,r){return t>0?x-r:m(t)-x};l&&(w=function e(t){return t<0?m(t):x},k=function e(t,r){return t<0?x-r:m(t)-x});var O=[];return v>0&&o.forEach((function(e,t){d(b.domain().length).forEach((function(o){var i=b(n(r[o]))+v*t+g*t,a=w(r[o][e]),l=k(r[o][e],a);if(v>0&&l>0){var u={id:e,value:r[o][e],index:o,indexValue:n(r[o]),data:r[o]};O.push({key:"".concat(e,".").concat(u.indexValue),data:u,x:i,y:a,width:v,height:l,color:s(u)})}}))})),{xScale:b,yScale:m,bars:O}},j=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,s=t.getColor,f=t.padding,h=void 0===f?0:f,p=t.innerPadding,g=void 0===p?0:p,b,y=P(r,o,i,a,l?[u,0]:[0,u]),m=C(r,n,[c,0],h),v=(m.bandwidth()-g*(o.length-1))/o.length,x=y(0),w=function e(t){return t>0?x:y(t)},k=function e(t,r){return t>0?y(t)-x:x-r};l&&(w=function e(t){return t<0?x:y(t)},k=function e(t,r){return t<0?y(t)-x:x-r});var O=[];return v>0&&o.forEach((function(e,t){d(m.domain().length).forEach((function(o){var i=w(r[o][e]),a=m(n(r[o]))+v*t+g*t,l=k(r[o][e],i);if(l>0){var u={id:e,value:r[o][e],index:o,indexValue:n(r[o]),data:r[o]};O.push({key:"".concat(e,".").concat(u.indexValue),data:u,x:i,y:a,width:l,height:v,color:s(u)})}}))})),{xScale:y,yScale:m,bars:O}},V=function e(t){return"vertical"===t.layout?E(t):j(t)},M=function e(t,r,n,o){var i=h(t,2),a=r;"auto"===a&&(a=c(i));var l=n;return"auto"===l&&(l=s(i)),f.scaleLinear().rangeRound(o).domain([a,l])},B=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,s=t.getColor,d=t.padding,f=void 0===d?0:d,h=t.innerPadding,g=void 0===h?0:h,b=p.stack().keys(o).offset(p.stackOffsetDiverging)(r),y=C(r,n,[0,u],f),m,v=M(b,i,a,l?[0,c]:[c,0]),x=[],w=y.bandwidth(),k=function e(t){return v(t[1])},O=function e(t,r){return v(t[0])-r};return l&&(k=function e(t){return v(t[0])},O=function e(t,r){return v(t[1])-r}),w>0&&b.forEach((function(e){y.domain().forEach((function(t,r){var o=e[r],i=y(n(o.data)),a=k(o),l=O(o,a);if(g>0&&(a+=.5*g,l-=g),l>0){var u={id:e.key,value:o.data[e.key],index:r,indexValue:t,data:o.data};x.push({key:"".concat(e.key,".").concat(t),data:u,x:i,y:a,width:w,height:l,color:s(u)})}}))})),{xScale:y,yScale:v,bars:x}},W=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,s=t.getColor,d=t.padding,f=void 0===d?0:d,h=t.innerPadding,g=void 0===h?0:h,b=p.stack().keys(o).offset(p.stackOffsetDiverging)(r),y,m=M(b,i,a,l?[u,0]:[0,u]),v=C(r,n,[c,0],f),x=[],w=v.bandwidth(),k=function e(t){return m(t[0])},O=function e(t,r){return m(t[1])-r};return l&&(k=function e(t){return m(t[1])},O=function e(t,r){return m(t[0])-r}),w>0&&b.forEach((function(e){v.domain().forEach((function(t,r){var o=e[r],i=v(n(o.data)),a={id:e.key,value:o.data[e.key],index:r,indexValue:t,data:o.data},l=k(o),u=O(o,l);g>0&&(l+=.5*g,u-=g),u>0&&x.push({key:"".concat(e.key,".").concat(t),data:a,x:l,y:i,width:u,height:w,color:s(a)})}))})),{xScale:m,yScale:v,bars:x}},I=function e(t){return"vertical"===t.layout?B(t):W(t)},D=function e(t,r,n,o){var i=g(t.map((function(e){return{id:e.data.id,label:e.data.id,color:e.color,fill:e.data.fill}})),(function(e){var t;return e.id}));return("vertical"===r&&"stacked"===n&&!0!==o||"horizontal"===r&&"stacked"===n&&!0===o)&&i.reverse(),i},H=function e(t){return g(t.map((function(e){return{id:e.data.indexValue,label:e.data.indexValue,color:e.color,fill:e.data.fill}})),(function(e){var t;return e.id}))},A=function e(t){var r=t.from,n=t.bars,o=t.layout,i=t.groupMode,a=t.reverse;return"indexes"===r?H(n):D(n,o,i,a)};function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){G(e,t,r[t])}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function e(t){var r=t.data,n=t.x,i=t.y,a=t.width,l=t.height,u=t.borderRadius,c=t.color,s=t.borderWidth,d=t.borderColor,f=t.label,h=t.shouldRenderLabel,p=t.labelColor,g=t.showTooltip,b=t.hideTooltip,y=t.onClick,m=t.onMouseEnter,v=t.onMouseLeave,x=t.tooltip,w=t.theme,k=function e(t){return g(x,t)},O=function e(t){m(r,t),g(x,t)},R=function e(t){v(r,t),b(t)};return o.createElement("g",{transform:"translate(".concat(n,", ").concat(i,")")},o.createElement("rect",{width:a,height:l,rx:u,ry:u,fill:r.fill?r.fill:c,strokeWidth:s,stroke:d,onMouseEnter:O,onMouseMove:k,onMouseLeave:R,onClick:y}),h&&o.createElement("text",{x:a/2,y:l/2,textAnchor:"middle",dominantBaseline:"central",style:F({},w.labels.text,{pointerEvents:"none",fill:p})},f))};_.propTypes={data:k.shape({id:k.string.isRequired,value:k.number.isRequired,indexValue:k.string.isRequired,fill:k.string}).isRequired,x:k.number.isRequired,y:k.number.isRequired,width:k.number.isRequired,height:k.number.isRequired,color:k.string.isRequired,borderRadius:k.number.isRequired,borderWidth:k.number.isRequired,borderColor:k.string.isRequired,label:k.node.isRequired,shouldRenderLabel:k.bool.isRequired,labelColor:k.string.isRequired,showTooltip:k.func.isRequired,hideTooltip:k.func.isRequired,getTooltipLabel:k.func.isRequired,tooltipFormat:k.oneOfType([k.string,k.func]),onClick:k.func,onMouseEnter:k.func,onMouseLeave:k.func,tooltip:k.element.isRequired,theme:k.shape({tooltip:k.shape({}).isRequired,labels:k.shape({text:k.object.isRequired}).isRequired}).isRequired};var X,Y=y(v(["data","color","onClick"],(function(e){var t=e.data,r=e.color,n=e.onClick;return{onClick:function e(o){return n(F({color:r},t),o)}}})),v(["data","color","theme","tooltip","getTooltipLabel","tooltipFormat"],(function(e){var t=e.data,r=e.color,n=e.theme,i=e.tooltip,a=e.getTooltipLabel,l=e.tooltipFormat;return{tooltip:o.createElement(O.BasicTooltip,{id:a(t),value:t.value,enableChip:!0,color:r,theme:n,format:l,renderContent:"function"==typeof i?i.bind(null,F({color:r,theme:n},t)):null})}})),x)(_);function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){K(e,t,r[t])}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=z({data:k.arrayOf(k.object).isRequired,indexBy:k.oneOfType([k.string,k.func]).isRequired,getIndex:k.func.isRequired,keys:k.arrayOf(k.oneOfType([k.string,k.number])).isRequired,layers:k.arrayOf(k.oneOfType([k.oneOf(["grid","axes","bars","markers","legends","annotations"]),k.func])).isRequired,groupMode:k.oneOf(["stacked","grouped"]).isRequired,layout:k.oneOf(["horizontal","vertical"]).isRequired,reverse:k.bool.isRequired,minValue:k.oneOfType([k.number,k.oneOf(["auto"])]).isRequired,maxValue:k.oneOfType([k.number,k.oneOf(["auto"])]).isRequired,padding:k.number.isRequired,innerPadding:k.number.isRequired,axisTop:l.axisPropType,axisRight:l.axisPropType,axisBottom:l.axisPropType,axisLeft:l.axisPropType,enableGridX:k.bool.isRequired,enableGridY:k.bool.isRequired,gridXValues:k.oneOfType([k.number,k.arrayOf(k.oneOfType([k.number,k.string]))]),gridYValues:k.oneOfType([k.number,k.arrayOf(k.oneOfType([k.number,k.string]))]),barComponent:k.func.isRequired,enableLabel:k.bool.isRequired,label:k.oneOfType([k.string,k.func]).isRequired,labelFormat:k.oneOfType([k.string,k.func]),getLabel:k.func.isRequired,labelSkipWidth:k.number.isRequired,labelSkipHeight:k.number.isRequired,labelTextColor:w.inheritedColorPropType.isRequired,getLabelTextColor:k.func.isRequired,labelLinkColor:w.inheritedColorPropType.isRequired,getLabelLinkColor:k.func.isRequired,colors:w.ordinalColorsPropType.isRequired,colorBy:w.colorPropertyAccessorPropType.isRequired,borderRadius:k.number.isRequired,getColor:k.func.isRequired},a.defsPropTypes,{borderWidth:k.number.isRequired,borderColor:w.inheritedColorPropType.isRequired,getBorderColor:k.func.isRequired,isInteractive:k.bool,onClick:k.func.isRequired,onMouseEnter:k.func.isRequired,onMouseLeave:k.func.isRequired,tooltipLabel:k.func,getTooltipLabel:k.func.isRequired,tooltipFormat:k.oneOfType([k.func,k.string]),tooltip:k.func,legends:k.arrayOf(k.shape(z({dataFrom:k.oneOf(["indexes","keys"]).isRequired},u.LegendPropShape))).isRequired,pixelRatio:k.number.isRequired}),N={indexBy:"id",keys:["value"],layers:["grid","axes","bars","markers","legends","annotations"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,barComponent:Y,enableLabel:!0,label:"value",labelSkipWidth:0,labelSkipHeight:0,labelLinkColor:"theme",labelTextColor:"theme",colors:{scheme:"nivo"},colorBy:"id",defs:[],fill:[],borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,onClick:a.noop,onMouseEnter:a.noop,onMouseLeave:a.noop,legends:[],annotations:[],pixelRatio:global.window&&global.window.devicePixelRatio?global.window.devicePixelRatio:1},J=function(e){return y(m(N),a.withTheme(),a.withDimensions(),a.withMotion(),v(["colors","colorBy"],(function(e){var t=e.colors,r=e.colorBy;return{getColor:w.getOrdinalColorScale(t,r)}})),v(["indexBy"],(function(e){var t=e.indexBy;return{getIndex:a.getAccessorFor(t)}})),v(["labelTextColor","theme"],(function(e){var t=e.labelTextColor,r=e.theme;return{getLabelTextColor:w.getInheritedColorGenerator(t,r)}})),v(["labelLinkColor","theme"],(function(e){var t=e.labelLinkColor,r=e.theme;return{getLabelLinkColor:w.getInheritedColorGenerator(t,r)}})),v(["label","labelFormat"],(function(e){var t=e.label,r=e.labelFormat;return{getLabel:a.getLabelGenerator(t,r)}})),v(["borderColor","theme"],(function(e){var t=e.borderColor,r=e.theme;return{getBorderColor:w.getInheritedColorGenerator(t,r)}})),v(["tooltipLabel"],(function(e){var t=e.tooltipLabel,r=function e(t){return"".concat(t.id," - ").concat(t.indexValue)};return"function"==typeof t&&(r=t),{getTooltipLabel:r}})),x)(e)};function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Z=function e(t){var r=t.bars,n=t.annotations,i=t.animate,a=t.motionStiffness,l=t.motionDamping,u;return R.useAnnotations({items:r,annotations:n,getPosition:function e(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},getDimensions:function e(t,r){var n=t.width+2*r,o=t.height+2*r;return{width:n,height:o,size:Math.max(n,o)}}}).map((function(e,t){return o.createElement(R.Annotation,Q({key:t},e,{containerWidth:innerWidth,containerHeight:innerHeight,animate:i,motionStiffness:a,motionDamping:l}))}))};function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){te(e,t,r[t])}))}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Z.propTypes={};var re=function e(t){var r=t.style;return{x:r.x.val,y:r.y.val,width:0,height:r.height.val}},ne=function e(t){var r=t.style;return{x:r.x.val,y:r.y.val+r.height.val,width:r.width.val,height:0}},oe=function e(t){return function(e){var r=e.style;return{x:r.x,y:r.y,width:i.spring(0,t),height:r.height}}},ie=function e(t){return function(e){var r=e.style;return{x:r.x,y:i.spring(r.y.val+r.height.val,t),width:r.width,height:i.spring(0,t)}}},ae=function e(t){var r=t.data,c=t.getIndex,s=t.keys,d=t.groupMode,f=t.layout,h=t.reverse,p=t.minValue,g=t.maxValue,b=t.margin,y=t.width,m=t.height,v=t.outerWidth,x=t.outerHeight,w=t.padding,k=t.innerPadding,O=t.axisTop,R=t.axisRight,C=t.axisBottom,T=t.axisLeft,S=t.enableGridX,q=t.enableGridY,L=t.gridXValues,P=t.gridYValues,E=t.layers,j=t.barComponent,M=t.enableLabel,B=t.getLabel,W=t.labelSkipWidth,D=t.labelSkipHeight,H=t.getLabelTextColor,F=t.markers,G=t.theme,_=t.getColor,X=t.defs,Y=t.fill,z=t.borderRadius,K=t.borderWidth,U=t.getBorderColor,N=t.annotations,J=t.isInteractive,Q=t.getTooltipLabel,te=t.tooltipFormat,ae=t.tooltip,le=t.onClick,ue=t.onMouseEnter,ce=t.onMouseLeave,se=t.legends,de=t.animate,fe=t.motionStiffness,he=t.motionDamping,pe={layout:f,reverse:h,data:r,getIndex:c,keys:s,minValue:p,maxValue:g,width:y,height:m,getColor:_,padding:w,innerPadding:k},ge="grouped"===d?V(pe):I(pe),be={animate:de,motionDamping:he,motionStiffness:fe},ye={damping:he,stiffness:fe},me="vertical"===f?ne:re,ve="vertical"===f?ie(ye):oe(ye),xe=function e(t){var r=t.width,n=t.height;return!!M&&(!(W>0&&r<W)&&!(D>0&&n<D))},we=a.bindDefs(X,ge.bars,Y,{dataKey:"data",targetKey:"data.fill"});return o.createElement(a.Container,{isInteractive:J,theme:G,animate:de,motionStiffness:fe,motionDamping:he},(function(e){var r=e.showTooltip,c=e.hideTooltip,s={borderRadius:z,borderWidth:K,enableLabel:M,labelSkipWidth:W,labelSkipHeight:D,showTooltip:r,hideTooltip:c,onClick:le,onMouseEnter:ue,onMouseLeave:ce,theme:G,getTooltipLabel:Q,tooltipFormat:te,tooltip:ae},p;p=!0===de?o.createElement(i.TransitionMotion,{key:"bars",willEnter:me,willLeave:ve,styles:ge.bars.map((function(e){return{key:e.key,data:e,style:{x:i.spring(e.x,ye),y:i.spring(e.y,ye),width:i.spring(e.width,ye),height:i.spring(e.height,ye)}}}))},(function(e){return o.createElement("g",null,e.map((function(e){var t=e.key,r=e.style,n=e.data,i=ee({},n,r);return o.createElement(j,ee({key:t},i,s,{shouldRenderLabel:xe(i),width:Math.max(r.width,0),height:Math.max(r.height,0),label:B(n.data),labelColor:H(i,G),borderColor:U(i),theme:G}))})))})):ge.bars.map((function(e){return o.createElement(j,ee({key:e.key},e,s,{label:B(e.data),shouldRenderLabel:xe(e),labelColor:H(e,G),borderColor:U(e),theme:G}))}));var g={grid:o.createElement(l.Grid,{key:"grid",width:y,height:m,xScale:S?ge.xScale:null,yScale:q?ge.yScale:null,xValues:L,yValues:P}),axes:o.createElement(l.Axes,{key:"axes",xScale:ge.xScale,yScale:ge.yScale,width:y,height:m,top:O,right:R,bottom:C,left:T}),bars:p,markers:o.createElement(a.CartesianMarkers,{key:"markers",markers:F,width:y,height:m,xScale:ge.xScale,yScale:ge.yScale,theme:G}),legends:se.map((function(e,t){var r=A({from:e.dataFrom,bars:ge.bars,layout:f,groupMode:d,reverse:h});return void 0===r?null:o.createElement(u.BoxLegendSvg,$({key:t},e,{containerWidth:y,containerHeight:m,data:r,theme:G}))})),annotations:o.createElement(Z,$({key:"annotations",innerWidth:y,innerHeight:m,bars:ge.bars,annotations:N},be))};return o.createElement(a.SvgWrapper,{width:v,height:x,margin:b,defs:we,theme:G},E.map((function(e,r){return"function"==typeof e?o.createElement(n.Fragment,{key:r},e(ee({},t,ge))):g[e]})))}))};ae.propTypes=U;var le=b("Bar")(J(ae));function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ke(e,t,r[t])}))}return e}function se(e,t){return he(e)||fe(e,t)||de()}function de(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function fe(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function he(e){if(Array.isArray(e))return e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function be(e,t,r){return t&&ge(e.prototype,t),r&&ge(e,r),e}function ye(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?ve(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}function we(e,t){return(we=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe=function e(t,r,n,o){return t.find((function(e){return a.isCursorInRect(e.x+r.left,e.y+r.top,e.width,e.height,n,o)}))},Re=function(e){function t(){var e,r;pe(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return ke(ve(r=ye(this,(e=me(t)).call.apply(e,[this].concat(i)))),"handleMouseHover",(function(e,t){return function(n){if(r.bars){var i=r.props,l=i.margin,u=i.theme,c=i.tooltip,s=i.getTooltipLabel,d=i.tooltipFormat,f,h=se(a.getRelativeCursor(r.surface,n),2),p=h[0],g=h[1],b=Oe(r.bars,l,p,g);void 0!==b?e(o.createElement(O.BasicTooltip,{id:s(b.data),value:b.data.value,enableChip:!0,color:b.color,theme:u,format:d,renderContent:"function"==typeof c?c.bind(null,ce({color:b.color},b.data)):null}),n):t()}}})),ke(ve(r),"handleMouseLeave",(function(e){return function(){e()}})),ke(ve(r),"handleClick",(function(e){if(r.bars){var t=r.props,n=t.margin,o=t.onClick,i,l=se(a.getRelativeCursor(r.surface,e),2),u=l[0],c=l[1],s=Oe(r.bars,n,u,c);void 0!==s&&o(s.data,e)}})),r}return xe(t,e),be(t,[{key:"componentDidMount",value:function e(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"shouldComponentUpdate",value:function e(t){return this.props.outerWidth!==t.outerWidth||this.props.outerHeight!==t.outerHeight||this.props.isInteractive!==t.isInteractive||this.props.theme!==t.theme||(this.draw(t),!1)}},{key:"componentDidUpdate",value:function e(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"draw",value:function e(t){var r=this,n=t.data,o=t.keys,i=t.getIndex,a=t.minValue,c=t.maxValue,s=t.width,d=t.height,f=t.outerWidth,h=t.outerHeight,p=t.pixelRatio,b=t.margin,y=t.layout,m=t.reverse,v=t.groupMode,x=t.padding,w=t.innerPadding,k=t.axisTop,O=t.axisRight,R=t.axisBottom,C=t.axisLeft,T=t.theme,S=t.getColor,q=t.borderWidth,L=t.getBorderColor,P=t.legends,E=t.enableGridX,j=t.gridXValues,M=t.enableGridY,B=t.gridYValues;this.surface.width=f*p,this.surface.height=h*p,this.ctx.scale(p,p);var W={layout:y,reverse:m,data:n,getIndex:i,keys:o,minValue:a,maxValue:c,width:s,height:d,getColor:S,padding:x,innerPadding:w},D="grouped"===v?V(W):I(W);this.bars=D.bars,this.ctx.fillStyle=T.background,this.ctx.fillRect(0,0,f,h),this.ctx.translate(b.left,b.top),T.grid.line.strokeWidth>0&&(this.ctx.lineWidth=T.grid.line.strokeWidth,this.ctx.strokeStyle=T.grid.line.stroke,E&&l.renderGridLinesToCanvas(this.ctx,{width:s,height:d,scale:D.xScale,axis:"x",values:j}),M&&l.renderGridLinesToCanvas(this.ctx,{width:s,height:d,scale:D.yScale,axis:"y",values:B})),this.ctx.strokeStyle="#dddddd";var H=g(D.bars.map((function(e){return{id:e.data.id,label:e.data.id,color:e.color,fill:e.data.fill}})).reverse(),(function(e){var t;return e.id})),A=g(D.bars.map((function(e){return{id:e.data.indexValue,label:e.data.indexValue,color:e.color,fill:e.data.fill}})),(function(e){var t;return e.id}));P.forEach((function(e){var t;if("keys"===e.dataFrom?t=H:"indexes"===e.dataFrom&&(t=A),void 0===t)return null;u.renderLegendToCanvas(r.ctx,ce({},e,{data:t,containerWidth:s,containerHeight:d,itemTextColor:"#999",symbolSize:16,theme:T}))})),l.renderAxesToCanvas(this.ctx,{xScale:D.xScale,yScale:D.yScale,width:s,height:d,top:k,right:O,bottom:R,left:C,theme:T}),D.bars.forEach((function(e){var t=e.x,n=e.y,o=e.color,i=e.width,a=e.height;r.ctx.fillStyle=o,q>0&&(r.ctx.strokeStyle=L(e),r.ctx.lineWidth=q),r.ctx.beginPath(),r.ctx.rect(t,n,i,a),r.ctx.fill(),q>0&&r.ctx.stroke()}))}},{key:"render",value:function e(){var t=this,r=this.props,n=r.outerWidth,i=r.outerHeight,l=r.pixelRatio,u=r.isInteractive,c=r.theme;return o.createElement(a.Container,{isInteractive:u,theme:c,animate:!1},(function(e){var r=e.showTooltip,a=e.hideTooltip;return o.createElement("canvas",{ref:function e(r){t.surface=r},width:n*l,height:i*l,style:{width:n,height:i},onMouseEnter:t.handleMouseHover(r,a),onMouseMove:t.handleMouseHover(r,a),onMouseLeave:t.handleMouseLeave(a),onClick:t.handleClick})}))}}]),t}(n.Component);Re.propTypes=U;var Ce=b("BarCanvas")(J(Re));function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Se=function e(t){return o.createElement(a.ResponsiveWrapper,null,(function(e){var r=e.width,n=e.height;return o.createElement(le,Te({width:r,height:n},t))}))};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Le=function e(t){return o.createElement(a.ResponsiveWrapper,null,(function(e){var r=e.width,n=e.height;return o.createElement(Ce,qe({width:r,height:n},t))}))};t.Bar=le,t.BarCanvas=Ce,t.BarDefaultProps=N,t.BarPropTypes=U,t.ResponsiveBar=Se,t.ResponsiveBarCanvas=Le}

