function module(e,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var t=e("react"),i=r(t),o=e("@nivo/core"),a=e("d3-scale"),u=e("d3-delaunay"),l=r(e("recompose/compose")),s=r(e("recompose/defaultProps")),d=r(e("recompose/withPropsOnChange")),c=r(e("recompose/pure")),h=r(e("prop-types")),f={data:h.arrayOf(h.shape({id:h.oneOfType([h.string,h.number]).isRequired,x:h.number.isRequired,y:h.number.isRequired})).isRequired,xDomain:h.arrayOf(h.number).isRequired,yDomain:h.arrayOf(h.number).isRequired,layers:h.arrayOf(h.oneOfType([h.oneOf(["links","cells","points","bounds"]),h.func])).isRequired,enableLinks:h.bool.isRequired,linkLineWidth:h.number.isRequired,linkLineColor:h.string.isRequired,enableCells:h.bool.isRequired,cellLineWidth:h.number.isRequired,cellLineColor:h.string.isRequired,enablePoints:h.bool.isRequired,pointSize:h.number.isRequired,pointColor:h.string.isRequired,delaunay:h.object.isRequired,voronoi:h.object.isRequired},p={xDomain:[0,1],yDomain:[0,1],layers:["links","cells","points","bounds"],enableLinks:!1,linkLineWidth:1,linkLineColor:"#bbb",enableCells:!0,cellLineWidth:2,cellLineColor:"#000",enablePoints:!0,pointSize:4,pointColor:"#666"},y=function(e){return l(s(p),o.withTheme(),o.withDimensions(),d(["xDomain","yDomain","width","height"],(function(e){var n=e.xDomain,r=e.yDomain,t=e.width,i=e.height;return{xScale:a.scaleLinear().domain(n).range([0,t]),yScale:a.scaleLinear().domain(r).range([0,i])}})),d(["data","xScale","yScale"],(function(e){var n=e.data,r=e.xScale,t=e.yScale;return{scaledPoints:n.map((function(e){return{data:e,x:r(e.x),y:t(e.y)}}))}})),d(["scaledPoints","width","height"],(function(e){var n=e.scaledPoints,r=e.width,t=e.height,i=u.Delaunay.from(n.map((function(e){return[e.x,e.y]}))),o=i.voronoi([0,0,r,t]);return{delaunay:i,voronoi:o}})),c)(e)},m=function e(n){var r=n.delaunay,a=n.voronoi,u=n.data,l=n.layers,s=n.margin,d=n.width,c=n.height,h=n.outerWidth,f=n.outerHeight,p=n.enableLinks,y=n.linkLineWidth,m=n.linkLineColor,b=n.enableCells,v=n.cellLineWidth,g=n.cellLineColor,k=n.enablePoints,C=n.pointSize,R=n.pointColor,q=n.theme,w={width:d,height:c,data:u,delaunay:r,voronoi:a},x={bounds:i.createElement("path",{key:"bounds",fill:"none",stroke:g,strokeWidth:v,d:a.renderBounds()})};return!0===p&&(x.links=i.createElement("path",{key:"links",stroke:m,strokeWidth:y,fill:"none",d:r.render()})),!0===b&&(x.cells=i.createElement("path",{key:"cells",d:a.render(),fill:"none",stroke:g,strokeWidth:v})),!0===k&&(x.points=i.createElement("path",{key:"points",stroke:"none",fill:R,d:r.renderPoints(void 0,C/2)})),i.createElement(o.Container,{isInteractive:!1,theme:q,animate:!1},(function(){return i.createElement(o.SvgWrapper,{width:h,height:f,margin:s,theme:q},l.map((function(e,n){return"function"==typeof e?i.createElement(t.Fragment,{key:n},e(w)):x[e]})))}))};m.propTypes=f;var b=y(m);function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var g=function e(n){return i.createElement(o.ResponsiveWrapper,null,(function(e){var r=e.width,t=e.height;return i.createElement(b,v({width:r,height:t},n))}))},k=function e(n){return"function"==typeof n?n:function(e){return e[n]}},C=function e(n){var r=n.points,t=n.x,i=void 0===t?"x":t,o=n.y,a=void 0===o?"y":o,u=k(i),l=k(a);return r.map((function(e){return[u(e),l(e)]}))},R=function e(n){var r=n.points,t=n.width,i=n.height,o=n.debug,a=u.Delaunay.from(r),l=!0===o?a.voronoi([0,0,t,i]):void 0;return{delaunay:a,voronoi:l}},q=function e(n){var r=n.points,i=n.x,o=n.y,a=n.width,u=n.height,l=n.debug,s=t.useMemo((function(){return C({points:r,x:i,y:o})}),[r,i,o]);return t.useMemo((function(){return R({points:s,width:a,height:u,debug:l})}),[s,a,u,l])};function w(e,n){return M(e)||L(e,n)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function L(e,n){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],t=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),u;!(t=(u=a.next()).done)&&(r.push(u.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return r}}function M(e){if(Array.isArray(e))return e}var E=function e(n){var r=n.nodes,a=n.width,u=n.height,l=n.x,s=n.y,d=n.debug,c=n.onMouseEnter,h=n.onMouseMove,f=n.onMouseLeave,p=n.onClick,y=t.useRef(null),m,b=w(t.useState(null),2),v=b[0],g=b[1],k=q({points:r,x:l,y:s,width:a,height:u,debug:d}),C=k.delaunay,R=k.voronoi,x=t.useMemo((function(){return d?R.render():void 0})),L=t.useCallback((function(e){var n,t=w(o.getRelativeCursor(y.current,e),2),i=t[0],a=t[1],u=C.find(i,a);return[u,void 0!==u?r[u]:null]}),[C]),M=t.useCallback((function(e){var n,r=w(L(e),2),t=r[0],i=r[1];v!==t&&g(t),i&&c&&c(i,e)}),[L,g]),E=t.useCallback((function(e){var n,r=w(L(e),2),t=r[0],i=r[1];v!==t&&g(t),i&&h&&h(i,e)}),[L,g]),P=t.useCallback((function(e){var n;(g(null),f)&&(null!=v&&(n=r[v]),f(n,e))}),[g]),O=t.useCallback((function(e){var n,r=w(L(e),2),t=r[0],i=r[1];v!==t&&g(t),p&&p(i,e)}),[L,g]);return i.createElement("g",{ref:y},d&&i.createElement("path",{d:x,stroke:"red",strokeWidth:1,opacity:.75}),null!==v&&d&&i.createElement("path",{fill:"red",opacity:.35,d:R.renderCell(v)}),i.createElement("rect",{width:a,height:u,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:M,onMouseMove:E,onMouseLeave:P,onClick:O}))};E.propTypes={width:h.number.isRequired,height:h.number.isRequired,nodes:h.array.isRequired,x:h.oneOfType([h.string,h.number,h.func]).isRequired,y:h.oneOfType([h.string,h.number,h.func]).isRequired,onMouseEnter:h.func,onMouseMove:h.func,onMouseLeave:h.func,onClick:h.func,debug:h.bool.isRequired},E.defaultProps={x:"x",y:"y",debug:!1};var P=function e(n,r){n.save(),n.globalAlpha=.75,n.beginPath(),r.render(n),n.strokeStyle="red",n.lineWidth=1,n.stroke(),n.restore()},O=function e(n,r,t){n.save(),n.globalAlpha=.35,n.beginPath(),r.renderCell(t,n),n.fillStyle="red",n.fill(),n.restore()};n.Mesh=E,n.ResponsiveVoronoi=g,n.Voronoi=b,n.VoronoiDefaultProps=p,n.VoronoiPropTypes=f,n.computeMesh=R,n.computeMeshPoints=C,n.renderVoronoiCellToCanvas=O,n.renderVoronoiToCanvas=P,n.useVoronoiMesh=q}

