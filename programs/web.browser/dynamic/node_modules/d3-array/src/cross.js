function module(n,t,r){function e(n){return 0|n.length}function o(n){return!(n>0)}function f(n){return"object"!=typeof n||"length"in n?n:Array.from(n)}function u(n){return t=>n(...t)}function i(...n){const t="function"==typeof n[n.length-1]&&u(n.pop()),r=(n=n.map(f)).map(e),i=n.length-1,p=new Array(i+1).fill(0),c=[];if(i<0||r.some(o))return c;for(;;){c.push(p.map((t,r)=>n[r][t]));let e=i;for(;++p[e]===r[e];){if(0===e)return t?c.map(t):c;p[e--]=0}}}r.export({default:()=>i})}

