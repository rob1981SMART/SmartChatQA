function module(t,e,n){let o,i,r,a,l,u,s,c,f,d,y,h,m,b,p,g;n.export({Annotation:()=>K,annotationSpecPropType:()=>x,bindAnnotations:()=>w,computeAnnotation:()=>P,defaultProps:()=>O,getLinkAngle:()=>j,renderAnnotationsToCanvas:()=>_,useAnnotations:()=>R,useComputedAnnotation:()=>S,useComputedAnnotations:()=>T}),n.link("react",{default(t){o=t},useMemo(t){i=t},memo(t){r=t}},0),n.link("prop-types",{default(t){a=t}},1),n.link("react-motion",{Motion(t){l=t},spring(t){u=t}},2),n.link("@nivo/core",{absoluteAngleDegrees(t){s=t},radiansToDegrees(t){c=t},positionFromAngle(t){f=t},degreesToRadians(t){d=t},useTheme(t){y=t},useMotionConfig(t){h=t},SmartMotion(t){m=t}},3),n.link("lodash/isPlainObject",{default(t){b=t}},4),n.link("lodash/filter",{default(t){p=t}},5),n.link("lodash/omit",{default(t){g=t}},6);var x=a.shape({match:a.oneOfType([a.func,a.object]).isRequired,type:a.oneOf(["circle","rect","dot"]).isRequired,noteX:a.oneOfType([a.number,a.shape({abs:a.number.isRequired})]).isRequired,noteY:a.oneOfType([a.number,a.shape({abs:a.number.isRequired})]).isRequired,noteWidth:a.number,noteTextOffset:a.number,note:a.oneOfType([a.node,a.func]).isRequired,offset:a.number}),O={noteWidth:120,noteTextOffset:8,animate:!0,motionStiffness:90,motionDamping:13};function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){W(t,e,n[e])}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function t(e){return{x:e.x,y:e.y}},w=function t(e){var n=e.items,o=e.annotations,i=e.getPosition,r=void 0===i?v:i,a=e.getDimensions;return o.reduce((function(t,e){return p(n,e.match).forEach((function(n){var o=r(n),i=a(n,e.offset||0);t.push(k({},g(e,["match","offset"]),o,i,{datum:n,size:e.size||i.size}))})),t}),[])},j=function t(e,n,o,i){var r=Math.atan2(i-n,o-e);return s(c(r))},P=function t(e){var n=e.type,o=e.x,i=e.y,r=e.size,a=e.width,l=e.height,u=e.noteX,s=e.noteY,c=e.noteWidth,y=void 0===c?O.noteWidth:c,h=e.noteTextOffset,m=void 0===h?O.noteTextOffset:h,p,g;b(u)?void 0!==u.abs&&(p=u.abs):p=o+u,b(s)?void 0!==s.abs&&(g=s.abs):g=i+s;var x=o,k=i,W=j(o,i,p,g);if("circle"===n){var v=f(d(W),r/2);x+=v.x,k+=v.y}if("rect"===n){var w=Math.round((W+90)/45)%8;0===w&&(k-=l/2),1===w&&(x+=a/2,k-=l/2),2===w&&(x+=a/2),3===w&&(x+=a/2,k+=l/2),4===w&&(k+=l/2),5===w&&(x-=a/2,k+=l/2),6===w&&(x-=a/2),7===w&&(x-=a/2,k-=l/2)}var P=p,E,q=p,R;return(W+90)%360>180?(P-=y,q-=y):q+=y,{points:[[x,k],[p,g],[q,g]],text:[P,g-m],angle:W+90}};function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){q(t,e,n[e])}))}return t}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=function t(e){var n=e.items,o=e.annotations,r=e.getPosition,a=e.getDimensions;return i((function(){return w({items:n,annotations:o,getPosition:r,getDimensions:a})}),[n,o,r,a])},T=function t(e){var n=e.annotations,o=e.containerWidth,r=e.containerHeight;return i((function(){return n.map((function(t){return E({},t,{computed:P(E({containerWidth:o,containerHeight:r},t))})}))}),[n,o,r])},S=function t(e){var n=e.type,o=e.containerWidth,r=e.containerHeight,a=e.x,l=e.y,u=e.size,s=e.width,c=e.height,f=e.noteX,d=e.noteY,y=e.noteWidth,h=e.noteTextOffset;return i((function(){return P({type:n,containerWidth:o,containerHeight:r,x:a,y:l,size:u,width:s,height:c,noteX:f,noteY:d,noteWidth:y,noteTextOffset:h})}),[n,o,r,a,l,u,s,c,f,d,y,h])};function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){C(t,e,n[e])}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=r((function(t){var e=t.datum,n=t.x,i=t.y,r=t.note,a=y();return"function"==typeof r?r({x:n,y:i,datum:e}):o.createElement(o.Fragment,null,a.annotations.text.outlineWidth>0&&o.createElement("text",{x:n,y:i,style:z({},a.annotations.text,{strokeLinejoin:"round",strokeWidth:2*a.annotations.text.outlineWidth,stroke:a.annotations.text.outlineColor})},r),o.createElement("text",{x:n,y:i,style:g(a.annotations.text,["outlineWidth","outlineColor"])},r))}));function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){M(t,e,n[e])}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}A.displayName="AnnotationNote",A.propTypes={datum:a.object.isRequired,x:a.number.isRequired,y:a.number.isRequired,note:a.oneOfType([a.node,a.func]).isRequired},A.defaultProps={};var F=r((function(t){var e=t.points,n=t.isOutline,i=y(),r=h(),a=r.animate,l=r.springConfig;if(n&&i.annotations.link.outlineWidth<=0)return null;var u=D({},i.annotations.link);n&&(u.strokeLinecap="square",u.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,u.stroke=i.annotations.link.outlineColor);var s="M".concat(e[0][0],",").concat(e[0][1]);return e.slice(1).forEach((function(t){s="".concat(s," L").concat(t[0],",").concat(t[1])})),a?o.createElement(m,{style:function t(e){return{d:e(s,l)}}},(function(t){return o.createElement("path",{fill:"none",d:t.d,style:u})})):o.createElement("path",{fill:"none",d:s,style:u})}));function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){N(t,e,n[e])}))}return t}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}F.displayName="AnnotationLink",F.propTypes={points:a.arrayOf(a.array).isRequired,isOutline:a.bool.isRequired},F.defaultProps={isOutline:!1};var X=r((function(t){var e=t.x,n=t.y,i=t.size,r=y(),a=h(),s=a.animate,c=a.springConfig;return s?o.createElement(l,{style:{x:u(e,c),y:u(n,c),size:u(i,c)}},(function(t){return o.createElement(o.Fragment,null,r.annotations.outline.outlineWidth>0&&o.createElement("circle",{cx:t.x,cy:t.y,r:t.size/2,style:H({},r.annotations.outline,{fill:"none",strokeWidth:r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),o.createElement("circle",{cx:t.x,cy:t.y,r:t.size/2,style:r.annotations.outline}))})):o.createElement(o.Fragment,null,r.annotations.outline.outlineWidth>0&&o.createElement("circle",{cx:e,cy:n,r:i/2,style:H({},r.annotations.outline,{fill:"none",strokeWidth:r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),o.createElement("circle",{cx:e,cy:n,r:i/2,style:r.annotations.outline}))}));function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){I(t,e,n[e])}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}X.displayName="CircleAnnotationOutline",X.propTypes={x:a.number.isRequired,y:a.number.isRequired,size:a.number.isRequired};var L=r((function(t){var e=t.x,n=t.y,i=t.size,r=y(),a=h(),s=a.animate,c=a.springConfig;return s?o.createElement(l,{style:{x:u(e,c),y:u(n,c),size:u(i,c)}},(function(t){return o.createElement(o.Fragment,null,r.annotations.outline.outlineWidth>0&&o.createElement("circle",{cx:t.x,cy:t.y,r:t.size/2,style:Y({},r.annotations.outline,{fill:"none",strokeWidth:2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),o.createElement("circle",{cx:t.x,cy:t.y,r:t.size/2,style:r.annotations.symbol}))})):o.createElement(o.Fragment,null,r.annotations.outline.outlineWidth>0&&o.createElement("circle",{cx:e,cy:n,r:i/2,style:Y({},r.annotations.outline,{fill:"none",strokeWidth:2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),o.createElement("circle",{cx:e,cy:n,r:i/2,style:r.annotations.symbol}))}));function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){B(t,e,n[e])}))}return t}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}L.displayName="DotAnnotationOutline",L.propTypes={x:a.number.isRequired,y:a.number.isRequired,size:a.number.isRequired},L.defaultProps={size:4};var G=r((function(t){var e=t.x,n=t.y,i=t.width,r=t.height,a=y(),s=h(),c=s.animate,f=s.springConfig;return c?o.createElement(l,{style:{x:u(e-i/2,f),y:u(n-r/2,f),width:u(i,f),height:u(r,f)}},(function(t){return o.createElement(o.Fragment,null,a.annotations.outline.outlineWidth>0&&o.createElement("rect",{x:t.x,y:t.y,width:t.width,height:t.height,style:J({},a.annotations.outline,{fill:"none",strokeWidth:a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor})}),o.createElement("rect",{x:t.x,y:t.y,width:t.width,height:t.height,style:a.annotations.outline}))})):o.createElement(o.Fragment,null,a.annotations.outline.outlineWidth>0&&o.createElement("rect",{x:e-i/2,y:n-r/2,width:i,height:r,style:J({},a.annotations.outline,{fill:"none",strokeWidth:a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor})}),o.createElement("rect",{x:e-i/2,y:n-r/2,width:i,height:r,style:a.annotations.outline}))}));G.displayName="RectAnnotationOutline",G.propTypes={x:a.number.isRequired,y:a.number.isRequired,width:a.number.isRequired,height:a.number.isRequired};var K=r((function(t){var e=t.datum,n=t.type,i=t.containerWidth,r=t.containerHeight,a=t.x,s=t.y,c=t.size,f=t.width,d=t.height,y=t.noteX,m=t.noteY,b=t.noteWidth,p=t.noteTextOffset,g=t.note,x=h(),O=x.animate,k=x.springConfig,W=S({type:n,containerWidth:i,containerHeight:r,x:a,y:s,size:c,width:f,height:d,noteX:y,noteY:m,noteWidth:b,noteTextOffset:p});return o.createElement(o.Fragment,null,o.createElement(F,{points:W.points,isOutline:!0}),"circle"===n&&o.createElement(X,{x:a,y:s,size:c}),"dot"===n&&o.createElement(L,{x:a,y:s,size:c}),"rect"===n&&o.createElement(G,{x:a,y:s,width:f,height:d}),o.createElement(F,{points:W.points}),!O&&o.createElement(A,{x:W.text[0],y:W.text[1],note:g}),O&&o.createElement(l,{style:{x:u(W.text[0],k),y:u(W.text[1],k)}},(function(t){return o.createElement(A,{datum:e,x:t.x,y:t.y,note:g})})))}));function Q(t,e){return Z(t)||V(t,e)||U()}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function V(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var a=t[Symbol.iterator](),l;!(o=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);o=!0);}catch(u){i=!0,r=u}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}}function Z(t){if(Array.isArray(t))return t}K.displayName="Annotation",K.propTypes={datum:a.object.isRequired,type:a.oneOf(["circle","rect","dot"]).isRequired,containerWidth:a.number.isRequired,containerHeight:a.number.isRequired,x:a.number.isRequired,y:a.number.isRequired,size:a.number,width:a.number,height:a.number,noteX:a.oneOfType([a.number,a.shape({abs:a.number.isRequired})]).isRequired,noteY:a.oneOfType([a.number,a.shape({abs:a.number.isRequired})]).isRequired,noteWidth:a.number.isRequired,noteTextOffset:a.number.isRequired,note:a.oneOfType([a.node,a.func]).isRequired},K.defaultProps={noteWidth:O.noteWidth,noteTextOffset:O.noteTextOffset};var $=function t(e,n){n.forEach((function(t,n){var o=Q(t,2),i=o[0],r=o[1];0===n?e.moveTo(i,r):e.lineTo(i,r)}))},_=function t(e,n){var o=n.annotations,i=n.theme;0!==o.length&&(e.save(),o.forEach((function(t){i.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=i.annotations.link.outlineColor,e.lineWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,e.beginPath(),$(e,t.computed.points),e.stroke(),e.lineCap="butt"),"circle"===t.type&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),"dot"===t.type&&i.annotations.symbol.outlineWidth>0&&(e.strokeStyle=i.annotations.symbol.outlineColor,e.lineWidth=2*i.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),"rect"===t.type&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=i.annotations.link.stroke,e.lineWidth=i.annotations.link.strokeWidth,e.beginPath(),$(e,t.computed.points),e.stroke(),"circle"===t.type&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),"dot"===t.type&&(e.fillStyle=i.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),"rect"===t.type&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:i}):(e.font="".concat(i.annotations.text.fontSize,"px ").concat(i.annotations.text.fontFamily),e.fillStyle=i.annotations.text.fill,e.strokeStyle=i.annotations.text.outlineColor,e.lineWidth=2*i.annotations.text.outlineWidth,i.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}}

