function module(e,t,r){let n,o,i,a,l,u,c,d,s,f,h,p,b,g,y,m,v,x,k,w,O,R,C,S,q,T,L,E,P,j,V,M,B,W,I,D,H,A,F,G,_,X,Y,z,K,U,N,J,Q,Z;r.export({Bar:()=>Be,BarCanvas:()=>$e,BarDefaultProps:()=>Oe,BarPropTypes:()=>we,ResponsiveBar:()=>tt,ResponsiveBarCanvas:()=>nt}),r.link("react",{default(e){n=e},Fragment(e){o=e},Component(e){i=e}},0),r.link("react-motion",{TransitionMotion(e){a=e},spring(e){l=e}},1),r.link("@nivo/core",{defsPropTypes(e){u=e},noop(e){c=e},withTheme(e){d=e},withDimensions(e){s=e},withMotion(e){f=e},getAccessorFor(e){h=e},getLabelGenerator(e){p=e},bindDefs(e){b=e},Container(e){g=e},CartesianMarkers(e){y=e},SvgWrapper(e){m=e},getRelativeCursor(e){v=e},isCursorInRect(e){x=e},ResponsiveWrapper(e){k=e}},2),r.link("@nivo/axes",{axisPropType(e){w=e},Grid(e){O=e},Axes(e){R=e},renderGridLinesToCanvas(e){C=e},renderAxesToCanvas(e){S=e}},3),r.link("@nivo/legends",{LegendPropShape(e){q=e},BoxLegendSvg(e){T=e},renderLegendToCanvas(e){L=e}},4),r.link("lodash/min",{default(e){E=e}},5),r.link("lodash/max",{default(e){P=e}},6),r.link("lodash/range",{default(e){j=e}},7),r.link("d3-scale",{scaleBand(e){V=e},scaleLinear(e){M=e}},8),r.link("lodash/flattenDepth",{default(e){B=e}},9),r.link("d3-shape",{stack(e){W=e},stackOffsetDiverging(e){I=e}},10),r.link("lodash/uniqBy",{default(e){D=e}},11),r.link("recompose/setDisplayName",{default(e){H=e}},12),r.link("recompose/compose",{default(e){A=e}},13),r.link("recompose/defaultProps",{default(e){F=e}},14),r.link("recompose/withPropsOnChange",{default(e){G=e}},15),r.link("recompose/pure",{default(e){_=e}},16),r.link("@nivo/colors",{inheritedColorPropType(e){X=e},ordinalColorsPropType(e){Y=e},colorPropertyAccessorPropType(e){z=e},getOrdinalColorScale(e){K=e},getInheritedColorGenerator(e){U=e}},17),r.link("prop-types",{default(e){N=e}},18),r.link("@nivo/tooltip",{BasicTooltip(e){J=e}},19),r.link("@nivo/annotations",{useAnnotations(e){Q=e},Annotation(e){Z=e}},20);var $=function e(t,r,n,o){return V().rangeRound(n).domain(t.map(r)).padding(o)};function ee(e){return ne(e)||re(e)||te()}function te(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function re(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function ne(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var oe=function e(t,r,n,o,i){var a=t.reduce((function(e,t){return[].concat(ee(e),ee(r.map((function(e){return t[e]}))))}),[]),l=o;"auto"===l&&(l=P(a));var u=n;return"auto"===u&&(u=E(a))>0&&(u=0),M().rangeRound(i).domain([u,l])},ie=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,d=t.getColor,s=t.padding,f=void 0===s?0:s,h=t.innerPadding,p=void 0===h?0:h,b=$(r,n,[0,u],f),g,y=oe(r,o,i,a,l?[0,c]:[c,0]),m=(b.bandwidth()-p*(o.length-1))/o.length,v=y(0),x=function e(t){return t>0?y(t):v},k=function e(t,r){return t>0?v-r:y(t)-v};l&&(x=function e(t){return t<0?y(t):v},k=function e(t,r){return t<0?v-r:y(t)-v});var w=[];return m>0&&o.forEach((function(e,t){j(b.domain().length).forEach((function(o){var i=b(n(r[o]))+m*t+p*t,a=x(r[o][e]),l=k(r[o][e],a);if(m>0&&l>0){var u={id:e,value:r[o][e],index:o,indexValue:n(r[o]),data:r[o]};w.push({key:"".concat(e,".").concat(u.indexValue),data:u,x:i,y:a,width:m,height:l,color:d(u)})}}))})),{xScale:b,yScale:y,bars:w}},ae=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,d=t.getColor,s=t.padding,f=void 0===s?0:s,h=t.innerPadding,p=void 0===h?0:h,b,g=oe(r,o,i,a,l?[u,0]:[0,u]),y=$(r,n,[c,0],f),m=(y.bandwidth()-p*(o.length-1))/o.length,v=g(0),x=function e(t){return t>0?v:g(t)},k=function e(t,r){return t>0?g(t)-v:v-r};l&&(x=function e(t){return t<0?v:g(t)},k=function e(t,r){return t<0?g(t)-v:v-r});var w=[];return m>0&&o.forEach((function(e,t){j(y.domain().length).forEach((function(o){var i=x(r[o][e]),a=y(n(r[o]))+m*t+p*t,l=k(r[o][e],i);if(l>0){var u={id:e,value:r[o][e],index:o,indexValue:n(r[o]),data:r[o]};w.push({key:"".concat(e,".").concat(u.indexValue),data:u,x:i,y:a,width:l,height:m,color:d(u)})}}))})),{xScale:g,yScale:y,bars:w}},le=function e(t){return"vertical"===t.layout?ie(t):ae(t)},ue=function e(t,r,n,o){var i=B(t,2),a=r;"auto"===a&&(a=E(i));var l=n;return"auto"===l&&(l=P(i)),M().rangeRound(o).domain([a,l])},ce=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,d=t.getColor,s=t.padding,f=void 0===s?0:s,h=t.innerPadding,p=void 0===h?0:h,b=W().keys(o).offset(I)(r),g=$(r,n,[0,u],f),y,m=ue(b,i,a,l?[0,c]:[c,0]),v=[],x=g.bandwidth(),k=function e(t){return m(t[1])},w=function e(t,r){return m(t[0])-r};return l&&(k=function e(t){return m(t[0])},w=function e(t,r){return m(t[1])-r}),x>0&&b.forEach((function(e){g.domain().forEach((function(t,r){var o=e[r],i=g(n(o.data)),a=k(o),l=w(o,a);if(p>0&&(a+=.5*p,l-=p),l>0){var u={id:e.key,value:o.data[e.key],index:r,indexValue:t,data:o.data};v.push({key:"".concat(e.key,".").concat(t),data:u,x:i,y:a,width:x,height:l,color:d(u)})}}))})),{xScale:g,yScale:m,bars:v}},de=function e(t){var r=t.data,n=t.getIndex,o=t.keys,i=t.minValue,a=t.maxValue,l=t.reverse,u=t.width,c=t.height,d=t.getColor,s=t.padding,f=void 0===s?0:s,h=t.innerPadding,p=void 0===h?0:h,b=W().keys(o).offset(I)(r),g,y=ue(b,i,a,l?[u,0]:[0,u]),m=$(r,n,[c,0],f),v=[],x=m.bandwidth(),k=function e(t){return y(t[0])},w=function e(t,r){return y(t[1])-r};return l&&(k=function e(t){return y(t[1])},w=function e(t,r){return y(t[0])-r}),x>0&&b.forEach((function(e){m.domain().forEach((function(t,r){var o=e[r],i=m(n(o.data)),a={id:e.key,value:o.data[e.key],index:r,indexValue:t,data:o.data},l=k(o),u=w(o,l);p>0&&(l+=.5*p,u-=p),u>0&&v.push({key:"".concat(e.key,".").concat(t),data:a,x:l,y:i,width:u,height:x,color:d(a)})}))})),{xScale:y,yScale:m,bars:v}},se=function e(t){return"vertical"===t.layout?ce(t):de(t)},fe=function e(t,r,n,o){var i=D(t.map((function(e){return{id:e.data.id,label:e.data.id,color:e.color,fill:e.data.fill}})),(function(e){var t;return e.id}));return("vertical"===r&&"stacked"===n&&!0!==o||"horizontal"===r&&"stacked"===n&&!0===o)&&i.reverse(),i},he=function e(t){return D(t.map((function(e){return{id:e.data.indexValue,label:e.data.indexValue,color:e.color,fill:e.data.fill}})),(function(e){var t;return e.id}))},pe=function e(t){var r=t.from,n=t.bars,o=t.layout,i=t.groupMode,a=t.reverse;return"indexes"===r?he(n):fe(n,o,i,a)};function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ge(e,t,r[t])}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye=function e(t){var r=t.data,o=t.x,i=t.y,a=t.width,l=t.height,u=t.borderRadius,c=t.color,d=t.borderWidth,s=t.borderColor,f=t.label,h=t.shouldRenderLabel,p=t.labelColor,b=t.showTooltip,g=t.hideTooltip,y=t.onClick,m=t.onMouseEnter,v=t.onMouseLeave,x=t.tooltip,k=t.theme,w=function e(t){return b(x,t)},O=function e(t){m(r,t),b(x,t)},R=function e(t){v(r,t),g(t)};return n.createElement("g",{transform:"translate(".concat(o,", ").concat(i,")")},n.createElement("rect",{width:a,height:l,rx:u,ry:u,fill:r.fill?r.fill:c,strokeWidth:d,stroke:s,onMouseEnter:O,onMouseMove:w,onMouseLeave:R,onClick:y}),h&&n.createElement("text",{x:a/2,y:l/2,textAnchor:"middle",dominantBaseline:"central",style:be({},k.labels.text,{pointerEvents:"none",fill:p})},f))};ye.propTypes={data:N.shape({id:N.string.isRequired,value:N.number.isRequired,indexValue:N.string.isRequired,fill:N.string}).isRequired,x:N.number.isRequired,y:N.number.isRequired,width:N.number.isRequired,height:N.number.isRequired,color:N.string.isRequired,borderRadius:N.number.isRequired,borderWidth:N.number.isRequired,borderColor:N.string.isRequired,label:N.node.isRequired,shouldRenderLabel:N.bool.isRequired,labelColor:N.string.isRequired,showTooltip:N.func.isRequired,hideTooltip:N.func.isRequired,getTooltipLabel:N.func.isRequired,tooltipFormat:N.oneOfType([N.string,N.func]),onClick:N.func,onMouseEnter:N.func,onMouseLeave:N.func,tooltip:N.element.isRequired,theme:N.shape({tooltip:N.shape({}).isRequired,labels:N.shape({text:N.object.isRequired}).isRequired}).isRequired};var me,ve=A(G(["data","color","onClick"],(function(e){var t=e.data,r=e.color,n=e.onClick;return{onClick:function e(o){return n(be({color:r},t),o)}}})),G(["data","color","theme","tooltip","getTooltipLabel","tooltipFormat"],(function(e){var t=e.data,r=e.color,o=e.theme,i=e.tooltip,a=e.getTooltipLabel,l=e.tooltipFormat;return{tooltip:n.createElement(J,{id:a(t),value:t.value,enableChip:!0,color:r,theme:o,format:l,renderContent:"function"==typeof i?i.bind(null,be({color:r,theme:o},t)):null})}})),_)(ye);function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ke(e,t,r[t])}))}return e}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we=xe({data:N.arrayOf(N.object).isRequired,indexBy:N.oneOfType([N.string,N.func]).isRequired,getIndex:N.func.isRequired,keys:N.arrayOf(N.oneOfType([N.string,N.number])).isRequired,layers:N.arrayOf(N.oneOfType([N.oneOf(["grid","axes","bars","markers","legends","annotations"]),N.func])).isRequired,groupMode:N.oneOf(["stacked","grouped"]).isRequired,layout:N.oneOf(["horizontal","vertical"]).isRequired,reverse:N.bool.isRequired,minValue:N.oneOfType([N.number,N.oneOf(["auto"])]).isRequired,maxValue:N.oneOfType([N.number,N.oneOf(["auto"])]).isRequired,padding:N.number.isRequired,innerPadding:N.number.isRequired,axisTop:w,axisRight:w,axisBottom:w,axisLeft:w,enableGridX:N.bool.isRequired,enableGridY:N.bool.isRequired,gridXValues:N.oneOfType([N.number,N.arrayOf(N.oneOfType([N.number,N.string]))]),gridYValues:N.oneOfType([N.number,N.arrayOf(N.oneOfType([N.number,N.string]))]),barComponent:N.func.isRequired,enableLabel:N.bool.isRequired,label:N.oneOfType([N.string,N.func]).isRequired,labelFormat:N.oneOfType([N.string,N.func]),getLabel:N.func.isRequired,labelSkipWidth:N.number.isRequired,labelSkipHeight:N.number.isRequired,labelTextColor:X.isRequired,getLabelTextColor:N.func.isRequired,labelLinkColor:X.isRequired,getLabelLinkColor:N.func.isRequired,colors:Y.isRequired,colorBy:z.isRequired,borderRadius:N.number.isRequired,getColor:N.func.isRequired},u,{borderWidth:N.number.isRequired,borderColor:X.isRequired,getBorderColor:N.func.isRequired,isInteractive:N.bool,onClick:N.func.isRequired,onMouseEnter:N.func.isRequired,onMouseLeave:N.func.isRequired,tooltipLabel:N.func,getTooltipLabel:N.func.isRequired,tooltipFormat:N.oneOfType([N.func,N.string]),tooltip:N.func,legends:N.arrayOf(N.shape(xe({dataFrom:N.oneOf(["indexes","keys"]).isRequired},q))).isRequired,pixelRatio:N.number.isRequired}),Oe={indexBy:"id",keys:["value"],layers:["grid","axes","bars","markers","legends","annotations"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,barComponent:ve,enableLabel:!0,label:"value",labelSkipWidth:0,labelSkipHeight:0,labelLinkColor:"theme",labelTextColor:"theme",colors:{scheme:"nivo"},colorBy:"id",defs:[],fill:[],borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,onClick:c,onMouseEnter:c,onMouseLeave:c,legends:[],annotations:[],pixelRatio:global.window&&global.window.devicePixelRatio?global.window.devicePixelRatio:1},Re=function(e){return A(F(Oe),d(),s(),f(),G(["colors","colorBy"],(function(e){var t=e.colors,r=e.colorBy;return{getColor:K(t,r)}})),G(["indexBy"],(function(e){var t=e.indexBy;return{getIndex:h(t)}})),G(["labelTextColor","theme"],(function(e){var t=e.labelTextColor,r=e.theme;return{getLabelTextColor:U(t,r)}})),G(["labelLinkColor","theme"],(function(e){var t=e.labelLinkColor,r=e.theme;return{getLabelLinkColor:U(t,r)}})),G(["label","labelFormat"],(function(e){var t=e.label,r=e.labelFormat;return{getLabel:p(t,r)}})),G(["borderColor","theme"],(function(e){var t=e.borderColor,r=e.theme;return{getBorderColor:U(t,r)}})),G(["tooltipLabel"],(function(e){var t=e.tooltipLabel,r=function e(t){return"".concat(t.id," - ").concat(t.indexValue)};return"function"==typeof t&&(r=t),{getTooltipLabel:r}})),_)(e)};function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Se=function e(t){var r=t.bars,o=t.annotations,i=t.animate,a=t.motionStiffness,l=t.motionDamping,u;return Q({items:r,annotations:o,getPosition:function e(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},getDimensions:function e(t,r){var n=t.width+2*r,o=t.height+2*r;return{width:n,height:o,size:Math.max(n,o)}}}).map((function(e,t){return n.createElement(Z,Ce({key:t},e,{containerWidth:innerWidth,containerHeight:innerHeight,animate:i,motionStiffness:a,motionDamping:l}))}))};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Le(e,t,r[t])}))}return e}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Se.propTypes={};var Ee=function e(t){var r=t.style;return{x:r.x.val,y:r.y.val,width:0,height:r.height.val}},Pe=function e(t){var r=t.style;return{x:r.x.val,y:r.y.val+r.height.val,width:r.width.val,height:0}},je=function e(t){return function(e){var r=e.style;return{x:r.x,y:r.y,width:l(0,t),height:r.height}}},Ve=function e(t){return function(e){var r=e.style;return{x:r.x,y:l(r.y.val+r.height.val,t),width:r.width,height:l(0,t)}}},Me=function e(t){var r=t.data,i=t.getIndex,u=t.keys,c=t.groupMode,d=t.layout,s=t.reverse,f=t.minValue,h=t.maxValue,p=t.margin,v=t.width,x=t.height,k=t.outerWidth,w=t.outerHeight,C=t.padding,S=t.innerPadding,q=t.axisTop,L=t.axisRight,E=t.axisBottom,P=t.axisLeft,j=t.enableGridX,V=t.enableGridY,M=t.gridXValues,B=t.gridYValues,W=t.layers,I=t.barComponent,D=t.enableLabel,H=t.getLabel,A=t.labelSkipWidth,F=t.labelSkipHeight,G=t.getLabelTextColor,_=t.markers,X=t.theme,Y=t.getColor,z=t.defs,K=t.fill,U=t.borderRadius,N=t.borderWidth,J=t.getBorderColor,Q=t.annotations,Z=t.isInteractive,$=t.getTooltipLabel,ee=t.tooltipFormat,te=t.tooltip,re=t.onClick,ne=t.onMouseEnter,oe=t.onMouseLeave,ie=t.legends,ae=t.animate,ue=t.motionStiffness,ce=t.motionDamping,de={layout:d,reverse:s,data:r,getIndex:i,keys:u,minValue:f,maxValue:h,width:v,height:x,getColor:Y,padding:C,innerPadding:S},fe="grouped"===c?le(de):se(de),he={animate:ae,motionDamping:ce,motionStiffness:ue},be={damping:ce,stiffness:ue},ge="vertical"===d?Pe:Ee,ye="vertical"===d?Ve(be):je(be),me=function e(t){var r=t.width,n=t.height;return!!D&&(!(A>0&&r<A)&&!(F>0&&n<F))},ve=b(z,fe.bars,K,{dataKey:"data",targetKey:"data.fill"});return n.createElement(g,{isInteractive:Z,theme:X,animate:ae,motionStiffness:ue,motionDamping:ce},(function(e){var r=e.showTooltip,i=e.hideTooltip,u={borderRadius:U,borderWidth:N,enableLabel:D,labelSkipWidth:A,labelSkipHeight:F,showTooltip:r,hideTooltip:i,onClick:re,onMouseEnter:ne,onMouseLeave:oe,theme:X,getTooltipLabel:$,tooltipFormat:ee,tooltip:te},f;f=!0===ae?n.createElement(a,{key:"bars",willEnter:ge,willLeave:ye,styles:fe.bars.map((function(e){return{key:e.key,data:e,style:{x:l(e.x,be),y:l(e.y,be),width:l(e.width,be),height:l(e.height,be)}}}))},(function(e){return n.createElement("g",null,e.map((function(e){var t=e.key,r=e.style,o=e.data,i=Te({},o,r);return n.createElement(I,Te({key:t},i,u,{shouldRenderLabel:me(i),width:Math.max(r.width,0),height:Math.max(r.height,0),label:H(o.data),labelColor:G(i,X),borderColor:J(i),theme:X}))})))})):fe.bars.map((function(e){return n.createElement(I,Te({key:e.key},e,u,{label:H(e.data),shouldRenderLabel:me(e),labelColor:G(e,X),borderColor:J(e),theme:X}))}));var h={grid:n.createElement(O,{key:"grid",width:v,height:x,xScale:j?fe.xScale:null,yScale:V?fe.yScale:null,xValues:M,yValues:B}),axes:n.createElement(R,{key:"axes",xScale:fe.xScale,yScale:fe.yScale,width:v,height:x,top:q,right:L,bottom:E,left:P}),bars:f,markers:n.createElement(y,{key:"markers",markers:_,width:v,height:x,xScale:fe.xScale,yScale:fe.yScale,theme:X}),legends:ie.map((function(e,t){var r=pe({from:e.dataFrom,bars:fe.bars,layout:d,groupMode:c,reverse:s});return void 0===r?null:n.createElement(T,qe({key:t},e,{containerWidth:v,containerHeight:x,data:r,theme:X}))})),annotations:n.createElement(Se,qe({key:"annotations",innerWidth:v,innerHeight:x,bars:fe.bars,annotations:Q},he))};return n.createElement(m,{width:k,height:w,margin:p,defs:ve,theme:X},W.map((function(e,r){return"function"==typeof e?n.createElement(o,{key:r},e(Te({},t,fe))):h[e]})))}))};Me.propTypes=we;var Be=H("Bar")(Re(Me));function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(Object(r));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Je(e,t,r[t])}))}return e}function De(e,t){return Fe(e)||Ae(e,t)||He()}function He(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ae(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function Fe(e){if(Array.isArray(e))return e}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e,t,r){return t&&_e(e.prototype,t),r&&_e(e,r),e}function Ye(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?Ke(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qe=function e(t,r,n,o){return t.find((function(e){return x(e.x+r.left,e.y+r.top,e.width,e.height,n,o)}))},Ze=function(e){function t(){var e,r;Ge(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Je(Ke(r=Ye(this,(e=ze(t)).call.apply(e,[this].concat(i)))),"handleMouseHover",(function(e,t){return function(o){if(r.bars){var i=r.props,a=i.margin,l=i.theme,u=i.tooltip,c=i.getTooltipLabel,d=i.tooltipFormat,s,f=De(v(r.surface,o),2),h=f[0],p=f[1],b=Qe(r.bars,a,h,p);void 0!==b?e(n.createElement(J,{id:c(b.data),value:b.data.value,enableChip:!0,color:b.color,theme:l,format:d,renderContent:"function"==typeof u?u.bind(null,Ie({color:b.color},b.data)):null}),o):t()}}})),Je(Ke(r),"handleMouseLeave",(function(e){return function(){e()}})),Je(Ke(r),"handleClick",(function(e){if(r.bars){var t=r.props,n=t.margin,o=t.onClick,i,a=De(v(r.surface,e),2),l=a[0],u=a[1],c=Qe(r.bars,n,l,u);void 0!==c&&o(c.data,e)}})),r}return Ue(t,e),Xe(t,[{key:"componentDidMount",value:function e(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"shouldComponentUpdate",value:function e(t){return this.props.outerWidth!==t.outerWidth||this.props.outerHeight!==t.outerHeight||this.props.isInteractive!==t.isInteractive||this.props.theme!==t.theme||(this.draw(t),!1)}},{key:"componentDidUpdate",value:function e(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"draw",value:function e(t){var r=this,n=t.data,o=t.keys,i=t.getIndex,a=t.minValue,l=t.maxValue,u=t.width,c=t.height,d=t.outerWidth,s=t.outerHeight,f=t.pixelRatio,h=t.margin,p=t.layout,b=t.reverse,g=t.groupMode,y=t.padding,m=t.innerPadding,v=t.axisTop,x=t.axisRight,k=t.axisBottom,w=t.axisLeft,O=t.theme,R=t.getColor,q=t.borderWidth,T=t.getBorderColor,E=t.legends,P=t.enableGridX,j=t.gridXValues,V=t.enableGridY,M=t.gridYValues;this.surface.width=d*f,this.surface.height=s*f,this.ctx.scale(f,f);var B={layout:p,reverse:b,data:n,getIndex:i,keys:o,minValue:a,maxValue:l,width:u,height:c,getColor:R,padding:y,innerPadding:m},W="grouped"===g?le(B):se(B);this.bars=W.bars,this.ctx.fillStyle=O.background,this.ctx.fillRect(0,0,d,s),this.ctx.translate(h.left,h.top),O.grid.line.strokeWidth>0&&(this.ctx.lineWidth=O.grid.line.strokeWidth,this.ctx.strokeStyle=O.grid.line.stroke,P&&C(this.ctx,{width:u,height:c,scale:W.xScale,axis:"x",values:j}),V&&C(this.ctx,{width:u,height:c,scale:W.yScale,axis:"y",values:M})),this.ctx.strokeStyle="#dddddd";var I=D(W.bars.map((function(e){return{id:e.data.id,label:e.data.id,color:e.color,fill:e.data.fill}})).reverse(),(function(e){var t;return e.id})),H=D(W.bars.map((function(e){return{id:e.data.indexValue,label:e.data.indexValue,color:e.color,fill:e.data.fill}})),(function(e){var t;return e.id}));E.forEach((function(e){var t;if("keys"===e.dataFrom?t=I:"indexes"===e.dataFrom&&(t=H),void 0===t)return null;L(r.ctx,Ie({},e,{data:t,containerWidth:u,containerHeight:c,itemTextColor:"#999",symbolSize:16,theme:O}))})),S(this.ctx,{xScale:W.xScale,yScale:W.yScale,width:u,height:c,top:v,right:x,bottom:k,left:w,theme:O}),W.bars.forEach((function(e){var t=e.x,n=e.y,o=e.color,i=e.width,a=e.height;r.ctx.fillStyle=o,q>0&&(r.ctx.strokeStyle=T(e),r.ctx.lineWidth=q),r.ctx.beginPath(),r.ctx.rect(t,n,i,a),r.ctx.fill(),q>0&&r.ctx.stroke()}))}},{key:"render",value:function e(){var t=this,r=this.props,o=r.outerWidth,i=r.outerHeight,a=r.pixelRatio,l=r.isInteractive,u=r.theme;return n.createElement(g,{isInteractive:l,theme:u,animate:!1},(function(e){var r=e.showTooltip,l=e.hideTooltip;return n.createElement("canvas",{ref:function e(r){t.surface=r},width:o*a,height:i*a,style:{width:o,height:i},onMouseEnter:t.handleMouseHover(r,l),onMouseMove:t.handleMouseHover(r,l),onMouseLeave:t.handleMouseLeave(l),onClick:t.handleClick})}))}}]),t}(i);Ze.propTypes=we;var $e=H("BarCanvas")(Re(Ze));function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var tt=function e(t){return n.createElement(k,null,(function(e){var r=e.width,o=e.height;return n.createElement(Be,et({width:r,height:o},t))}))};function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var nt=function e(t){return n.createElement(k,null,(function(e){var r=e.width,o=e.height;return n.createElement($e,rt({width:r,height:o},t))}))}}

