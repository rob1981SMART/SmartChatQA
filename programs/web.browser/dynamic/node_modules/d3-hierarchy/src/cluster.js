function module(n,r,t){function e(n,r){return n.parent===r.parent?1:2}function u(n){return n.reduce(c,0)/n.length}function c(n,r){return n+r.x}function i(n){return 1+n.reduce(o,0)}function o(n,r){return Math.max(n,r.y)}function f(n){for(var r;r=n.children;)n=r[0];return n}function a(n){for(var r;r=n.children;)n=r[r.length-1];return n}t.exportDefault((function(){var n=e,r=1,t=1,c=!1;function o(e){var o,l=0;e.eachAfter((function(r){var t=r.children;t?(r.x=u(t),r.y=i(t)):(r.x=o?l+=n(r,o):0,r.y=0,o=r)}));var x=f(e),h=a(e),y=x.x-n(x,h)/2,d=h.x+n(h,x)/2;return e.eachAfter(c?function(n){n.x=(n.x-e.x)*r,n.y=(e.y-n.y)*t}:function(n){n.x=(n.x-y)/(d-y)*r,n.y=(1-(e.y?n.y/e.y:1))*t})}return o.separation=function(r){return arguments.length?(n=r,o):n},o.size=function(n){return arguments.length?(c=!1,r=+n[0],t=+n[1],o):c?null:[r,t]},o.nodeSize=function(n){return arguments.length?(c=!0,r=+n[0],t=+n[1],o):c?[r,t]:null},o}))}

