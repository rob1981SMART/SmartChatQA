function module(e,t,n){let a,l,i,r,o,s,c,m,u,g,d,h,p,y,E;function f(e){let{displacement:t,onPreviousDateClick:n,onNextDateClick:c}=e;const h=p(),y=d(()=>u().set({hour:0,minute:0,second:0,millisecond:0}).subtract(1).subtract(t,"days"),[t]),f=d(()=>({start:y.toISOString()}),[y]),x=E("GET","engagement-dashboard/users/chat-busier/hourly-data",f),k=d(()=>{if(!x)return[];const e=2,t=Array.from({length:12},(e,t)=>({hour:String(2*t),users:0}));for(const{hour:n,users:a}of x.hours){const e=Math.floor(n/2);t[e]=t[e]||{hour:String(2*e),users:0},t[e].users+=a}return t},[x]);return g.createElement(g.Fragment,null,g.createElement(o.Container,{alignItems:"center",justifyContent:"center"},g.createElement(l,null,g.createElement(i,{ghost:!0,square:!0,small:!0,onClick:n},g.createElement(r,{left:!0,size:"20",style:{verticalAlign:"middle"}})),g.createElement(o.Item,{basis:"25%"},g.createElement(s,{inline:"x8"},g.createElement(l,{is:"span",style:{textAlign:"center"}},y.format(t<7?"dddd":"L")))),g.createElement(i,{ghost:!0,square:!0,small:!0,disabled:0===t,onClick:c},g.createElement(r,{right:!0,size:"20",style:{verticalAlign:"middle"}})))),g.createElement(o.Container,null,x?g.createElement(l,{style:{height:196}},g.createElement(o.Item,{align:"stretch",grow:1,shrink:0},g.createElement(l,{style:{position:"relative"}},g.createElement(l,{style:{position:"absolute",width:"100%",height:"100%"}},g.createElement(a,{data:k,indexBy:"hour",keys:["users"],groupMode:"grouped",padding:.25,margin:{bottom:20},colors:["#1d74f5"],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:"every 2 hours",format:e=>u().set({hour:e,minute:0,second:0}).format("LT")},axisLeft:null,animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:"600",letterSpacing:"0.2px",lineHeight:"12px"}}},tooltip:{container:{backgroundColor:"#1F2329",boxShadow:"0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)",borderRadius:2}}},tooltip:e=>{let{value:t}=e;return g.createElement(l,{textStyle:"p2",textColor:"alternative"},h("Value_users",{value:t}))}}))))):g.createElement(m,{variant:"rect",height:196})))}function x(e){let{displacement:t,onPreviousDateClick:n,onNextDateClick:c}=e;const h=d(()=>u.utc().subtract(t,"weeks"),[t]),p=d(()=>{const e=h.clone().subtract(6,"days");return"".concat(e.format("L")," - ").concat(h.format("L"))},[h]),y=d(()=>({start:h.toISOString()}),[h]),f=E("GET","engagement-dashboard/users/chat-busier/weekly-data",y),x=d(()=>f?f.month.map(e=>{let{users:t,day:n,month:a,year:l}=e;return{users:t,day:String(u.utc([l,a-1,n,0,0,0]).valueOf())}}).sort((e,t)=>{let{day:n}=e,{day:a}=t;return n-a}):[],[f]);return g.createElement(g.Fragment,null,g.createElement(o.Container,{alignItems:"center",justifyContent:"center"},g.createElement(l,null,g.createElement(i,{ghost:!0,square:!0,small:!0,onClick:n},g.createElement(r,{left:!0,size:"20",style:{verticalAlign:"middle"}})),g.createElement(o.Item,{basis:"50%"},g.createElement(s,{inline:"x8"},g.createElement(l,{is:"span",style:{textAlign:"center"}},p))),g.createElement(i,{ghost:!0,square:!0,small:!0,disabled:0===t,onClick:c},g.createElement(r,{right:!0,size:"20",style:{verticalAlign:"middle"}})))),g.createElement(o.Container,null,f?g.createElement(l,{style:{height:196}},g.createElement(o.Item,{align:"stretch",grow:1,shrink:0},g.createElement(l,{style:{position:"relative"}},g.createElement(l,{style:{position:"absolute",width:"100%",height:"100%"}},g.createElement(a,{data:x,indexBy:"day",keys:["users"],groupMode:"grouped",padding:.25,margin:{bottom:20},colors:["#1d74f5"],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:"every 3 days",format:e=>u(parseInt(e,10)).format("L")},axisLeft:null,animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:"600",letterSpacing:"0.2px",lineHeight:"12px"}}}}}))))):g.createElement(m,{variant:"rect",height:196})))}function k(){const e=p(),[t,n]=h("hours"),a=d(()=>[["hours",e("Hours")],["days",e("Days")]],[e]),[l,i]=h(0),r=e=>{n(e),i(0)},o=()=>i(e=>e+1),s=()=>i(e=>e-1),m="hours"===t&&f||"days"===t&&x;return g.createElement(y,{title:e("When_is_the_chat_busier?"),filter:g.createElement(c,{options:a,value:t,onChange:r})},g.createElement(m,{displacement:l,onPreviousDateClick:o,onNextDateClick:s}))}n.export({BusiestChatTimesSection:()=>k}),n.link("@nivo/bar",{ResponsiveBar(e){a=e}},0),n.link("@rocket.chat/fuselage",{Box(e){l=e},Button(e){i=e},Chevron(e){r=e},Flex(e){o=e},Margins(e){s=e},Select(e){c=e},Skeleton(e){m=e}},1),n.link("moment",{default(e){u=e}},2),n.link("react",{default(e){g=e},useMemo(e){d=e},useState(e){h=e}},3),n.link("../../../../../../client/contexts/TranslationContext",{useTranslation(e){p=e}},4),n.link("../Section",{Section(e){y=e}},5),n.link("../../hooks/useEndpointData",{useEndpointData(e){E=e}},6)}

