function module(e,r,n){let t,l,i,s,o,a,u,c;n.link("@babel/runtime/helpers/extends",{default(e){t=e}},0),n.export({default:()=>m}),n.link("react",{default(e){l=e}},0),n.link("toastr",{default(e){i=e}},1),n.link("../../../../../client/contexts/AuthorizationContext",{usePermission(e){s=e}},2),n.link("../../../../../client/contexts/ServerContext",{useMethod(e){o=e}},3),n.link("../../../../../client/contexts/TranslationContext",{useTranslation(e){a=e}},4),n.link("./Mailer",{Mailer(e){u=e}},5),n.link("../NotAuthorizedPage",{default(e){c=e}},6);const d=()=>{const e=o("Mailer.sendMail"),r=a();return n=>{let{fromEmail:t,subject:l,emailBody:s,dryRun:o,query:a}=n;a.error?i.error(r("Query_is_not_valid_JSON")):t.error||t.length<1?i.error(r("error-invalid-from-address")):-1!==s.indexOf("[unsubscribe]")?(e(t.value,l,s,o,a.value),i.success(r("The_emails_are_being_sent"))):i.error(r("error-missing-unsubscribe-link"))}};function m(e){const r=s("access-mailer"),n=d();return r?l.createElement(u,t({sendMail:n},e)):l.createElement(c,null)}}

